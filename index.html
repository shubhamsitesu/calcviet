<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Schema.org markup for Organization -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "May-tinh.com",
        "alternateName": ["M√°y T√≠nh Online", "M√°y T√≠nh Vi·ªát Nam"],
        "url": "https://may-tinh.com",
        "logo": "https://may-tinh.com/logo.png",
        "image": "https://may-tinh.com/images/calculator-og.jpg",
        "description": "N·ªÅn t·∫£ng m√°y t√≠nh tr·ª±c tuy·∫øn h√†ng ƒë·∫ßu Vi·ªát Nam cung c·∫•p c√°c c√¥ng c·ª• t√≠nh to√°n mi·ªÖn ph√≠",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "123 ƒê∆∞·ªùng L√™ L·ª£i",
            "addressLocality": "H√† N·ªôi",
            "postalCode": "100000",
            "addressCountry": "VN"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 21.028511,
            "longitude": 105.804817
        },
        "openingHours": "Mo-Su 00:00-23:59",
        "email": "contact@may-tinh.com",
        "serviceArea": {
            "@type": "Country",
            "name": "Vi·ªát Nam"
        },
        "areaServed": ["H√† N·ªôi", "TP. H·ªì Ch√≠ Minh", "ƒê√† N·∫µng", "H·∫£i Ph√≤ng", "C·∫ßn Th∆°", "Bi√™n H√≤a", "Nha Trang", "Bu√¥n Ma Thu·ªôt", "Hu·∫ø", "Vinh"],
        "sameAs": [
            "https://www.facebook.com/maytinhcom",
            "https://twitter.com/maytinhcom",
            "https://www.youtube.com/@maytinhcom"
        ],
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "D·ªãch v·ª• M√°y T√≠nh Online",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "M√°y t√≠nh khoa h·ªçc",
                        "description": "C√¥ng c·ª• t√≠nh to√°n khoa h·ªçc v·ªõi c√°c h√†m l∆∞·ª£ng gi√°c, logarit, l≈©y th·ª´a"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "M√°y t√≠nh t√†i ch√≠nh",
                        "description": "C√¥ng c·ª• t√≠nh l√£i su·∫•t, vay v·ªën, ƒë·∫ßu t∆∞, ti·∫øt ki·ªám"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "M√°y t√≠nh BMI",
                        "description": "C√¥ng c·ª• t√≠nh ch·ªâ s·ªë kh·ªëi c∆° th·ªÉ v√† ƒë√°nh gi√° s·ª©c kh·ªèe"
                    }
                }
            ]
        }
    }
    </script>
    
    <!-- Service Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Service",
        "serviceType": "M√°y t√≠nh tr·ª±c tuy·∫øn",
        "provider": {
            "@type": "Organization",
            "name": "May-tinh.com"
        },
        "areaServed": "Vi·ªát Nam",
        "serviceOutput": {
            "@type": "Thing",
            "name": "K·∫øt qu·∫£ t√≠nh to√°n ch√≠nh x√°c"
        },
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "D·ªãch v·ª• M√°y T√≠nh Online",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "M√°y t√≠nh c∆° b·∫£n",
                        "description": "C√¥ng c·ª• t√≠nh to√°n c·ªông, tr·ª´, nh√¢n, chia, ph·∫ßn trƒÉm"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "M√°y t√≠nh chuy·ªÉn ƒë·ªïi",
                        "description": "Chuy·ªÉn ƒë·ªïi ƒë∆°n v·ªã ƒëo l∆∞·ªùng, ti·ªÅn t·ªá, nhi·ªát ƒë·ªô"
                    }
                }
            ]
        }
    }
    </script>
    
    <!-- WebSite Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "May-tinh.com",
        "alternateName": "M√°y T√≠nh Online",
        "url": "https://may-tinh.com",
        "description": "N·ªÅn t·∫£ng m√°y t√≠nh tr·ª±c tuy·∫øn h√†ng ƒë·∫ßu Vi·ªát Nam",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://may-tinh.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Trang ch·ªß",
                "item": "https://may-tinh.com"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "M√°y t√≠nh",
                "item": "https://may-tinh.com#calculator"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "M√°y t√≠nh khoa h·ªçc",
                "item": "https://may-tinh.com#scientific"
            }
        ]
    }
    </script>
    
    <!-- Canonical Link -->
    <link rel="canonical" href="https://may-tinh.com/" />
    
    <!-- Title Tag with Keywords -->
    <title>M√°y T√≠nh - M√°y T√≠nh Online Khoa H·ªçc, ƒêi·ªán T·ª≠, Mi·ªÖn Ph√≠ | May-tinh.com</title>
    
    <!-- Meta Description with Keywords -->
    <meta name="description" content="M√°y t√≠nh online mi·ªÖn ph√≠, m√°y t√≠nh khoa h·ªçc, m√°y t√≠nh ƒëi·ªán t·ª≠ cho h·ªçc sinh. M√°y t√≠nh ƒë∆°n gi·∫£n, ch√≠nh x√°c, nhanh ch√≥ng. D·ªÖ s·ª≠ d·ª•ng tr√™n m·ªçi thi·∫øt b·ªã. M√°y T√≠nh t·ªët nh·∫•t Vi·ªát Nam!" />
    
    <!-- Meta Keywords -->
    <meta name="keywords" content="m√°y t√≠nh, m√°y t√≠nh online, m√°y t√≠nh khoa h·ªçc, m√°y t√≠nh ƒëi·ªán t·ª≠, m√°y t√≠nh mi·ªÖn ph√≠, m√°y t√≠nh ƒë∆°n gi·∫£n, m√°y t√≠nh cho h·ªçc sinh, may tinh, m√°y t√≠nh c∆° b·∫£n, m√°y t√≠nh t√†i ch√≠nh, m√°y t√≠nh bmi, m√°y t√≠nh chuy·ªÉn ƒë·ªïi" />
    
    <!-- Author and Copyright -->
    <meta name="author" content="May-tinh.com" />
    <meta name="copyright" content="¬© 2023 May-tinh.com" />
    
    <!-- Robots Meta Tag -->
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    
    <!-- Language and Geo Targeting -->
    <meta name="content-language" content="vi" />
    <meta name="geo.region" content="VN" />
    <meta name="geo.placename" content="Vi·ªát Nam" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="M√°y T√≠nh - M√°y T√≠nh Online Khoa H·ªçc, ƒêi·ªán T·ª≠, Mi·ªÖn Ph√≠ | May-tinh.com" />
    <meta property="og:description" content="M√°y t√≠nh online mi·ªÖn ph√≠, m√°y t√≠nh khoa h·ªçc, m√°y t√≠nh ƒëi·ªán t·ª≠ cho h·ªçc sinh. M√°y t√≠nh ƒë∆°n gi·∫£n, ch√≠nh x√°c, nhanh ch√≥ng. D·ªÖ s·ª≠ d·ª•ng tr√™n m·ªçi thi·∫øt b·ªã." />
    <meta property="og:url" content="https://may-tinh.com/" />
    <meta property="og:site_name" content="May-tinh.com" />
    <meta property="og:image" content="https://may-tinh.com/images/calculator-og.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="vi_VN" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="M√°y T√≠nh - M√°y T√≠nh Online Khoa H·ªçc, ƒêi·ªán T·ª≠, Mi·ªÖn Ph√≠ | May-tinh.com" />
    <meta name="twitter:description" content="M√°y t√≠nh online mi·ªÖn ph√≠, m√°y t√≠nh khoa h·ªçc, m√°y t√≠nh ƒëi·ªán t·ª≠ cho h·ªçc sinh. M√°y t√≠nh ƒë∆°n gi·∫£n, ch√≠nh x√°c, nhanh ch√≥ng. D·ªÖ s·ª≠ d·ª•ng tr√™n m·ªçi thi·∫øt b·ªã." />
    <meta name="twitter:url" content="https://may-tinh.com/" />
    <meta name="twitter:image" content="https://may-tinh.com/images/calculator-og.jpg" />
    <meta name="twitter:site" content="@maytinhcom" />
    
    <!-- Favicon -->
    <link rel="icon" href="https://may-tinh.com/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="https://may-tinh.com/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="https://may-tinh.com/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="https://may-tinh.com/apple-touch-icon-114x114.png" />
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#4285f4" />
    <meta name="msapplication-TileColor" content="#4285f4" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet" />
    
    <!-- AdSense Automatic Code -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
         crossorigin="anonymous"></script>
    
    <style>
        :root {
            --primary-color: #4285f4; /* Google blue */
            --secondary-color: #34a853; /* Google green */
            --accent-color: #ea4335; /* Google red */
            --dark-color: #202124;
            --light-color: #f8f9fa;
            --gray-color: #5f6368;
            --light-gray: #dadce0;
            --white: #ffffff;
            --button-bg: #f1f3f4;
            --button-hover: #e8eaed;
            --function-bg: #e8f0fe;
            --function-hover: #d2e3fc;
            --operator-bg: #e8f0fe;
            --operator-hover: #d2e3fc;
            --equals-bg: #4285f4;
            --equals-hover: #3367d6;
            --clear-bg: #f8f9fa;
            --clear-hover: #f1f3f4;
            --clear-border: #dadce0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header Styles */
        .header {
            background-color: var(--white);
            box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--primary-color);
            font-size: 22px;
            font-weight: 500;
        }
        
        .logo i {
            margin-right: 10px;
            font-size: 24px;
            color: var(--primary-color);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 25px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 500;
            font-size: 14px;
            transition: color 0.2s;
        }
        
        .nav-links a:hover {
            color: var(--primary-color);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--dark-color);
        }
        
        /* Mobile Menu Styles */
        .mobile-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: var(--white);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 999;
            padding: 15px 0;
        }
        
        .mobile-menu.active {
            display: block;
        }
        
        .mobile-menu-links {
            list-style: none;
            padding: 0 15px;
        }
        
        .mobile-menu-links li {
            margin-bottom: 15px;
        }
        
        .mobile-menu-links li:last-child {
            margin-bottom: 0;
        }
        
        .mobile-menu-links a {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 500;
            font-size: 16px;
            display: block;
            padding: 10px 15px;
            border-radius: 4px;
            transition: background-color 0.2s, color 0.2s;
        }
        
        .mobile-menu-links a:hover {
            background-color: var(--light-color);
            color: var(--primary-color);
        }
        
        /* Breadcrumbs - Reduced size */
        .breadcrumbs {
            background-color: var(--light-color);
            padding: 4px 0;       /* Reduced padding */
            font-size: 12px;      /* Smaller font size */
            line-height: 1.2;     /* Tighter line height */
        }
        
        .breadcrumbs a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .breadcrumbs a:hover {
            text-decoration: underline;
        }
        
        .breadcrumbs .separator {
            margin: 0 5px;        /* Reduced margin */
            color: var(--gray-color);
        }
        
        /* Calculator Section - Reduced top padding */
        .calculator-section {
            padding: 30px 0;      /* Reduced top padding */
            background-color: var(--white);
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .section-title h1 {
            font-size: 32px;
            color: var(--dark-color);
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .section-title h2 {
            font-size: 28px;
            color: var(--dark-color);
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .section-title p {
            font-size: 16px;
            color: var(--gray-color);
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Calculator Styles */
        .calculator { 
            background: #ccc; 
            padding: 15px; 
            border-radius: 20px; 
            box-shadow: inset -3px -3px 7px #fff, inset 3px 3px 7px rgba(0,0,0,0.4); 
            width: 100%; 
            max-width: 800px; 
            margin: 0 auto; 
            position: relative; 
        }
        
        .calculator .header { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 10px; 
            align-items: center; 
            position: relative; 
            background: none;
            box-shadow: none;
        }
        
        #historyBtn { 
            background: transparent; 
            border: none; 
            cursor: pointer; 
            font-size: 24px; 
            color: #333; 
        }
        
        #modeToggle { 
            display: flex; 
            gap: 2px; 
        }
        
        #modeToggle button { 
            padding: 6px 12px; 
            border: none; 
            border-radius: 6px; 
            margin: 0 2px; 
            font-weight: bold; 
            cursor: pointer; 
            background: #aaa; 
            color: #000; 
            user-select: none; 
            position: relative; 
            z-index: 1; 
        }
        
        #modeToggle button.active { 
            background: #555; 
            color: #fff; 
        }
        
        .display-container { 
            background: #e6e6e6; 
            border-radius: 6px; 
            padding: 12px 20px; 
            margin-bottom: 15px; 
        }
        
        #expression { 
            font-size: 16px; 
            color: #666; 
            text-align: right; 
            min-height: 20px; 
            overflow-x: auto; 
            white-space: nowrap; 
            margin-bottom: 5px; 
        }
        
        #display {
  font-size: 26px;
  font-weight: bold;
  text-align: right;
  min-height: 35px;
  overflow-x: auto;
  white-space: nowrap;
  color: #111;
  outline: none;
  cursor: text;
  user-select: text;
  padding-top: 10px; /* Add this line */
}
        
        .buttons-container { 
            display: flex; 
            gap: 10px; 
        }
        
        .buttons, .sci-buttons { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 10px; 
            margin-top: 10px; 
            flex: 1; 
        }
        
        .sci-buttons { 
            display: none; 
        }
        
        .calculator button { 
            background: #b0b0b0; 
            border: none; 
            padding: 10px 0; 
            font-size: 16px; 
            font-weight: bold; 
            border-radius: 6px; 
            color: #000; 
            height: 40px; 
            box-shadow: -2px -2px 4px #fff, 2px 2px 4px rgba(0, 0, 0, 0.4); 
            cursor: pointer; 
            user-select: none; 
            transition: background 0.2s, transform 0.1s; 
        }
        
        .calculator button:hover { 
            background: #a0a0a0; 
        }
        
        .calculator button:active { 
            background: #999; 
            transform: scale(0.97); 
        }
        
        .deg-rad { 
            grid-column: span 4; 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            margin-top: 5px; 
            user-select: none; 
        }
        
        .deg-rad label { 
            font-size: 14px; 
        }
        
        /* Enhanced Modal Styles */
        .modal-overlay { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100vw; 
            height: 100vh; 
            background: rgba(0,0,0,0.7); /* Darker background */
            display: none; 
            justify-content: center; 
            align-items: center; 
            z-index: 9999; /* Much higher z-index */
            padding: 20px; /* Add padding */
        }
        
        .modal-overlay.active { 
            display: flex; 
        }
        
        .modal { 
            background: #ffffff; /* Changed to white for better contrast */
            border-radius: 15px; 
            padding: 25px; /* Increased padding */
            width: 90%; 
            max-width: 400px; /* Increased max width */
            max-height: 80vh; /* Increased max height */
            overflow-y: auto; 
            position: relative; 
            z-index: 10000; /* Higher z-index */
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); /* Enhanced shadow */
            border: 1px solid #e0e0e0; /* Added border */
        }
        
        .modal h2 { 
            margin-top: 0; 
            text-align: center; 
            color: var(--primary-color); /* Changed color */
            font-size: 22px; /* Increased font size */
            margin-bottom: 20px; /* Increased margin */
            padding-bottom: 10px; /* Added padding */
            border-bottom: 1px solid #eee; /* Added border */
        }
        
        .history-item { 
            background: #f9f9f9; /* Lighter background */
            border-radius: 8px; 
            padding: 12px 15px; /* Increased padding */
            margin-bottom: 12px; /* Increased margin */
            font-family: 'Roboto', monospace; /* Changed font */
            cursor: pointer; 
            user-select: text; 
            transition: background 0.2s; 
            white-space: nowrap; 
            overflow-x: auto; 
            max-width: 100%; 
            border-left: 4px solid var(--primary-color); /* Added left border */
        }
        
        .history-item:hover { 
            background: #f0f7ff; /* Changed hover color */
        }
        
        .close-btn { 
            position: absolute; 
            top: 15px; 
            right: 15px; 
            background: transparent; 
            border: none; 
            font-size: 24px; 
            cursor: pointer; 
            color: #666; /* Changed color */
            width: 32px; /* Fixed width */
            height: 32px; /* Fixed height */
            display: flex; /* Added flex */
            align-items: center; /* Added align */
            justify-content: center; /* Added justify */
            border-radius: 50%; /* Added border radius */
            transition: background-color 0.2s; /* Added transition */
        }
        
        .close-btn:hover { 
            background: #f0f0f0; /* Added hover background */
            color: #333; /* Changed hover color */
        }
        
        .power-expr { 
            display: inline-block; 
            position: relative; 
            vertical-align: baseline; 
        }
        
        .power-expr .base { 
            display: inline-block; 
            vertical-align: baseline; 
        }
        
        .power-expr .exp { 
  font-size: 0.6em; 
  vertical-align: super; 
  line-height: 0; 
  position: relative; 
  top: -0.3em; 
  border: 1px solid #555; 
  padding: 0.1em 0.2em;      /* Added padding for better spacing */
  width: auto; 
  min-width: 0.8em;          /* Made the initial box smaller */
  height: auto; 
  min-height: 1.2em;
  display: inline-block;     /* Changed from flex to prevent centering */
  background-color: #f0f0f0;
  border-radius: 2px;
  margin-left: 2px;
  cursor: text;
}
        
        .power-expr .exp.typed {
  border: none;
  background: none;
  padding: 0;
  min-width: 0;
  /* The margin-left is now inherited and consistent */
}
        
        .exp-x-expr { 
            display: inline-block; 
            position: relative; 
            vertical-align: baseline; 
        }
        
        .exp-x-expr .base { 
            display: inline-block; 
            vertical-align: baseline; 
            font-style: italic;
        }
        
        .exp-x-expr .exp { 
  font-size: 0.6em; 
  vertical-align: super; 
  line-height: 0; 
  position: relative; 
  top: -0.3em; 
  border: 1px solid #555; 
  padding: 0.1em 0.2em;      /* Added padding for better spacing */
  width: auto; 
  min-width: 0.8em;          /* Made the initial box smaller */
  height: auto; 
  min-height: 1.2em;
  display: inline-block;     /* Changed from flex to prevent centering */
  background-color: #f0f0f0;
  border-radius: 2px;
  margin-left: 2px;
  cursor: text;
}
        .exp-x-expr .exp.typed {
  border: none;
  background: none;
  padding: 0;
  min-width: 0;
  /* The margin-left is now inherited and consistent */
}
        
        .history-power .base { 
            display: inline-block; 
            vertical-align: baseline; 
        }
        
        .history-power .exp { 
            font-size: 0.7em; 
            vertical-align: super; 
            line-height: 0; 
            position: relative; 
            top: -0.2em; 
        }
        
        /* Desktop layout - show both button sets */
        @media (min-width: 769px) {
            .calculator { max-width: 800px; }
            .buttons-container { display: flex; }
            .buttons { display: grid; }
            .sci-buttons { display: grid; }
            #modeToggle { display: none; } /* Hide mode toggle on desktop */
        }
        
        /* Mobile layout - keep current behavior */
        @media (max-width: 768px) {
            .calculator { max-width: 400px; }
            .buttons-container { display: block; }
            .sci-buttons { display: none; }
            #modeToggle { display: flex; } /* Show mode toggle on mobile */
            
            /* Enhanced mobile modal styles */
            .modal { 
                width: 95%; 
                max-width: 350px; 
                padding: 20px; 
            }
            
            .modal h2 { 
                font-size: 20px; 
                margin-bottom: 15px; 
            }
            
            .history-item { 
                padding: 10px 12px; 
                margin-bottom: 10px; 
                font-size: 14px; 
            }
        }
        
        @media (max-width: 480px) {
            .calculator { padding: 10px; }
            #display { font-size: 22px; min-height: 30px; }
            #expression { font-size: 14px; }
            .calculator button { font-size: 14px; height: 35px; }
            
            /* Further enhanced mobile modal styles */
            .modal { 
                width: 98%; 
                max-width: 320px; 
                padding: 15px; 
            }
            
            .modal h2 { 
                font-size: 18px; 
                margin-bottom: 12px; 
            }
            
            .history-item { 
                padding: 8px 10px; 
                margin-bottom: 8px; 
                font-size: 13px; 
            }
        }
        
        /* Summary Section */
        .summary-section {
            padding: 60px 0;
            background-color: var(--white);
        }
        
        .summary-content {
            font-size: 18px;
            line-height: 1.8;
            color: var(--dark-color);
        }
        
        .summary-content h3 {
            font-size: 24px;
            color: var(--primary-color);
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 500;
        }
        
        .summary-content p {
            margin-bottom: 20px;
        }
        
        .summary-content ul {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        
        .summary-content li {
            margin-bottom: 10px;
        }
        
        /* Features Section */
        .features-section {
            padding: 60px 0;
            background-color: var(--light-color);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .feature-card {
            background-color: var(--white);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .feature-icon {
            font-size: 40px;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--dark-color);
            font-weight: 500;
        }
        
        .feature-card p {
            color: var(--gray-color);
            margin-bottom: 20px;
        }
        
        /* Calculators Section */
        .calculators-section {
            padding: 60px 0;
            background-color: var(--white);
        }
        
        .calculators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }
        
        .calculator-card {
            background-color: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            border: 1px solid var(--light-gray);
        }
        
        .calculator-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .calculator-card-img {
            height: 160px;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .calculator-card-img i {
            font-size: 60px;
            color: var(--white);
        }
        
        .calculator-card-body {
            padding: 20px;
        }
        
        .calculator-card h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--dark-color);
            font-weight: 500;
        }
        
        .calculator-card p {
            color: var(--gray-color);
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .calculator-card a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
        }
        
        .calculator-card a i {
            margin-left: 5px;
        }
        
        /* Future Features Section */
        .future-features-section {
            padding: 60px 0;
            background-color: var(--light-color);
        }
        
        .future-features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .future-feature-card {
            background-color: var(--white);
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .future-feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .future-feature-icon {
            font-size: 40px;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .future-feature-card h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--dark-color);
            font-weight: 500;
        }
        
        .future-feature-card p {
            color: var(--gray-color);
            margin-bottom: 20px;
        }
        
        /* Blog Section */
        .blog-section {
            padding: 60px 0;
            background-color: var(--light-color);
        }
        
        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .blog-card {
            background-color: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .blog-img {
            height: 200px;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 18px;
            font-weight: 500;
        }
        
        .blog-body {
            padding: 25px;
        }
        
        .blog-date {
            font-size: 14px;
            color: var(--gray-color);
            margin-bottom: 10px;
        }
        
        .blog-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--dark-color);
            font-weight: 500;
        }
        
        .blog-excerpt {
            color: var(--gray-color);
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .blog-link {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
        }
        
        .blog-link i {
            margin-left: 5px;
        }
        
        /* FAQ Section */
        .faq-section {
            padding: 60px 0;
            background-color: var(--white);
        }
        
        .accordion {
            margin-top: 30px;
        }
        
        .accordion-item {
            border: none;
            border-radius: 0;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .accordion-header {
            border-radius: 0;
        }
        
        .accordion-button {
            background-color: var(--light-color);
            color: var(--dark-color);
            font-weight: 500;
            font-size: 16px;
            box-shadow: none;
            border-radius: 0;
        }
        
        .accordion-button:not(.collapsed) {
            background-color: var(--primary-color);
            color: var(--white);
        }
        
        .accordion-button:focus {
            box-shadow: none;
        }
        
        .accordion-button::after {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23202124'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }
        
        .accordion-button:not(.collapsed)::after {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23ffffff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }
        
        .accordion-body {
            font-size: 16px;
            line-height: 1.6;
        }
        
        /* About Section */
        .about-section {
            padding: 60px 0;
            background-color: var(--light-color);
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }
        
        .about-text h3 {
            font-size: 28px;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .about-text p {
            margin-bottom: 20px;
            font-size: 16px;
            line-height: 1.7;
        }
        
        .about-img {
            background-color: var(--primary-color);
            height: 400px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 24px;
            font-weight: 500;
        }
        
        /* Ad Sections - For AdSense Auto Ads */
        .ad-section {
            padding: 30px 0;
            background-color: var(--light-color);
            text-align: center;
            overflow: hidden;
        }
        
        /* Footer */
        .footer {
            background-color: var(--dark-color);
            color: var(--white);
            padding: 50px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 18px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
            font-weight: 500;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: var(--primary-color);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.2s;
            font-size: 14px;
        }
        
        .footer-links a:hover {
            color: var(--primary-color);
        }
        
        .social-links {
            display: flex;
            margin-top: 20px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            margin-right: 10px;
            transition: background-color 0.2s;
        }
        
        .social-links a:hover {
            background-color: var(--primary-color);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: #aaa;
        }
        
        /* Responsive Styles */
        @media (max-width: 992px) {
            .section-title h1 {
                font-size: 28px;
            }
            
            .section-title h2 {
                font-size: 24px;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
            
            .about-img {
                height: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .calculator-section, .summary-section, .features-section, .calculators-section, .future-features-section, .blog-section, .faq-section, .about-section {
                padding: 30px 0;
            }
            
            .about-content {
                gap: 30px;
            }
        }
        
        @media (max-width: 576px) {
            .section-title h1 {
                font-size: 24px;
            }
            
            .section-title h2 {
                font-size: 22px;
            }
            
            .feature-card, .calculator-card-body, .blog-body, .future-feature-card {
                padding: 20px;
            }
            
            .about-content {
                gap: 20px;
            }
        }
        html {
  scroll-behavior: smooth;
}
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="https://may-tinh.com" class="logo">
                    <i class="fas fa-calculator"></i>
                    M√°y T√≠nh
                </a>
                <ul class="nav-links">
                    <li><a href="#home">Trang Ch·ªß</a></li>
<li><a href="#blog">Blog</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#about">V·ªÅ Ch√∫ng T√¥i</a></li>
<li><a href="https://may-tinh.com/privacy-policy">Ch√≠nh S√°ch B·∫£o M·∫≠t</a></li>
<li><a href="https://may-tinh.com/terms">ƒêi·ªÅu Kho·∫£n S·ª≠ D·ª•ng</a></li>
<li><a href="https://may-tinh.com/contact">Li√™n H·ªá</a></li>
                </ul>
                <button class="mobile-menu-btn" id="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
            <!-- Mobile Menu -->
            <div class="mobile-menu" id="mobile-menu">
                <ul class="mobile-menu-links">
                    <li><a href="#home">Trang Ch·ªß</a></li>
<li><a href="#blog">Blog</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#about">V·ªÅ Ch√∫ng T√¥i</a></li>
<li><a href="https://may-tinh.com/privacy-policy">Ch√≠nh S√°ch B·∫£o M·∫≠t</a></li>
<li><a href="https://may-tinh.com/terms">ƒêi·ªÅu Kho·∫£n S·ª≠ D·ª•ng</a></li>
<li><a href="https://may-tinh.com/contact">Li√™n H·ªá</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Breadcrumbs -->
    <div class="breadcrumbs">
        <div class="container">
            <a href="https://may-tinh.com">Trang ch·ªß</a>
            <span class="separator">/</span>
            <span>M√°y T√≠nh Online</span>
        </div>
    </div>

    <!-- Calculator Section -->
    <section class="calculator-section" id="calculators">
        <div class="container">
            <div class="section-title">
                <h1>M√°y T√≠nh Online - M√°y T√≠nh Khoa H·ªçc, ƒêi·ªán T·ª≠, Mi·ªÖn Ph√≠</h1>
                <p>C√¥ng c·ª• t√≠nh to√°n tr·ª±c tuy·∫øn ch√≠nh x√°c, nhanh ch√≥ng v√† d·ªÖ s·ª≠ d·ª•ng cho m·ªçi ng∆∞·ªùi Vi·ªát Nam</p>
            </div>
            
            <div class="calculator">
              <div class="header">
                <button id="historyBtn" title="L·ªãch s·ª≠">üìú</button>
                <div id="modeToggle">
                  <button id="basicBtn" class="active" title="Ch·∫ø ƒë·ªô c∆° b·∫£n">C∆° b·∫£n</button>
                  <button id="sciBtn" title="Ch·∫ø ƒë·ªô khoa h·ªçc">Khoa h·ªçc</button>
                </div>
              </div>
              <div class="display-container">
                <div id="expression" aria-label="Bi·ªÉu th·ª©c hi·ªÉn th·ªã"></div>
                <div id="display" contenteditable="true" spellcheck="false" inputmode="none" aria-label="M√†n h√¨nh m√°y t√≠nh">0</div>
              </div>
              <div class="deg-rad">
                <label><input type="radio" name="angleMode" value="deg" checked> ƒê·ªô</label>
                <label><input type="radio" name="angleMode" value="rad"> Rad</label>
              </div>
              <div class="buttons-container">
                <div class="sci-buttons" id="sciButtons">
                  <button onclick="insertFunction('sin')">sin</button>
                  <button onclick="insertFunction('cos')">cos</button>
                  <button onclick="insertFunction('tan')">tan</button>
                  <button onclick="insertRoot()">‚àö</button>
                  <button onclick="insertFunction('asin')">sin‚Åª¬π</button>
                  <button onclick="insertFunction('acos')">cos‚Åª¬π</button>
                  <button onclick="insertFunction('atan')">tan‚Åª¬π</button>
                  <button onclick="insertCubeRoot()">¬≥‚àö</button>
                  <button onclick="insertFunction('log')">log</button>
                  <button onclick="insertFunction('ln')">ln</button>
                  <button onclick="applySciFunc('inverse')">1/x</button>
                  <button onclick="insertSquare()">x¬≤</button>
                  <button onclick="insertChar('œÄ')">œÄ</button>
                  <button onclick="insertChar('e')">e</button>
                  <button onclick="insertFactorial()">n!</button>
                   <button onclick="insertCube()">x¬≥</button>
                  <button onclick="insertEXPX()">e^x</button>
                  <button onclick="applySciFunc('abs')">|x|</button>
                  <button onclick="insertScientificNotation()">EXP</button>
                  <button onclick="insertPower()" title="L≈©y th·ª´a v·ªõi s·ªë hi·ªán t·∫°i">x ∏</button>
                </div>
                <div class="buttons" id="basicButtons">
                  <button onclick="insertChar('(')">(</button>
                  <button onclick="insertChar(')')">)</button>
                  <button onclick="insertChar('/')">√∑</button>
                  <button id="acBackspaceBtn" onclick="toggleACBackspace()">AC</button>
                  <button onclick="insertChar('7')">7</button>
                  <button onclick="insertChar('8')">8</button>
                  <button onclick="insertChar('9')">9</button>
                  <button onclick="insertChar('+')">+</button>
                  <button onclick="insertChar('4')">4</button>
                  <button onclick="insertChar('5')">5</button>
                  <button onclick="insertChar('6')">6</button>
                  <button onclick="insertChar('-')">-</button>
                  <button onclick="insertChar('1')">1</button>
                  <button onclick="insertChar('2')">2</button>
                  <button onclick="insertChar('3')">3</button>
                  <button onclick="insertChar('*')">√ó</button>
                  <button onclick="insertChar('%')" title="Ph·∫ßn trƒÉm">%</button>
                  <button onclick="insertChar('0')">0</button>
                  <button onclick="insertChar('.')">.</button>
                  <button onclick="calculate()">=</button>
                </div>
              </div>
            </div>
        </div>
    </section>

    
    <!-- Summary Section -->
    <section class="summary-section" id="summary">
        <div class="container">
            <div class="section-title">
                <h2>T·∫•t C·∫£ V·ªÅ M√°y T√≠nh Online</h2>
                <p>Kh√°m ph√° th·∫ø gi·ªõi t√≠nh to√°n tr·ª±c tuy·∫øn v·ªõi m√°y t√≠nh c·ªßa ch√∫ng t√¥i</p>
            </div>
            
            <div class="summary-content">
                <h3>M√°y T√≠nh Online - Gi·∫£i Ph√°p T√≠nh To√°n To√†n Di·ªán</h3>
                <p>Trong th·ªùi ƒë·∫°i c√¥ng ngh·ªá s·ªë hi·ªán nay, vi·ªác c√≥ m·ªôt c√¥ng c·ª• <strong>m√°y t√≠nh</strong> ƒë√°ng tin c·∫≠y v√† d·ªÖ ti·∫øp c·∫≠n l√† nhu c·∫ßu thi·∫øt y·∫øu c·ªßa m·ªçi ng∆∞·ªùi. <strong>M√°y t√≠nh online</strong> t·∫°i May-tinh.com ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ƒë√°p ·ª©ng nhu c·∫ßu ƒë√≥, mang ƒë·∫øn m·ªôt n·ªÅn t·∫£ng t√≠nh to√°n tr·ª±c tuy·∫øn ho√†n to√†n mi·ªÖn ph√≠, ch√≠nh x√°c v√† d·ªÖ s·ª≠ d·ª•ng cho m·ªçi ng∆∞·ªùi Vi·ªát Nam.</p>
                
                <p><strong>M√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i kh√¥ng ch·ªâ l√† m·ªôt c√¥ng c·ª• ƒë∆°n gi·∫£n th·ª±c hi·ªán c√°c ph√©p t√≠nh c∆° b·∫£n, m√† c√≤n l√† m·ªôt gi·∫£i ph√°p to√†n di·ªán v·ªõi nhi·ªÅu t√≠nh nƒÉng n√¢ng cao. T·ª´ <strong>m√°y t√≠nh c∆° b·∫£n</strong> cho c√°c ph√©p t√≠nh c·ªông, tr·ª´, nh√¢n, chia, ƒë·∫øn <strong>m√°y t√≠nh khoa h·ªçc</strong> v·ªõi c√°c h√†m l∆∞·ª£ng gi√°c, logarit, l≈©y th·ª´a, t·∫•t c·∫£ ƒë·ªÅu ƒë∆∞·ª£c t√≠ch h·ª£p trong m·ªôt giao di·ªán th√¢n thi·ªán v√† tr·ª±c quan.</p>
                
                <p>ƒêi·ªÉm ƒë·∫∑c bi·ªát c·ªßa <strong>m√°y t√≠nh online</strong> c·ªßa ch√∫ng t√¥i l√† kh·∫£ nƒÉng truy c·∫≠p t·ª´ m·ªçi thi·∫øt b·ªã c√≥ k·∫øt n·ªëi internet. B·∫°n kh√¥ng c·∫ßn ph·∫£i c√†i ƒë·∫∑t b·∫•t k·ª≥ ph·∫ßn m·ªÅm n√†o hay lo l·∫Øng v·ªÅ vi·ªác m√°y t√≠nh c·ªßa m√¨nh c√≥ ƒë·ªß c·∫•u h√¨nh ƒë·ªÉ ch·∫°y c√°c ·ª©ng d·ª•ng n·∫∑ng. Ch·ªâ c·∫ßn m·ªü tr√¨nh duy·ªát web v√† truy c·∫≠p May-tinh.com, b·∫°n ƒë√£ c√≥ ngay m·ªôt c√¥ng c·ª• t√≠nh to√°n m·∫°nh m·∫Ω trong tay.</p>
                
                <h3>L·ªãch S·ª≠ Ph√°t Tri·ªÉn C·ªßa M√°y T√≠nh</h3>
                <p><strong>M√°y t√≠nh</strong> ƒë√£ tr·∫£i qua m·ªôt h√†nh tr√¨nh ph√°t tri·ªÉn ·∫•n t∆∞·ª£ng t·ª´ nh·ªØng c√¥ng c·ª• c∆° b·∫£n nh·∫•t ƒë·∫øn c√°c si√™u <strong>m√°y t√≠nh ƒëi·ªán t·ª≠</strong> hi·ªán ƒë·∫°i. Kh·ªüi ƒë·∫ßu v·ªõi nh·ªØng v·∫≠t d·ª•ng ƒë·∫øm ƒë∆°n gi·∫£n nh∆∞ ng√≥n tay, vi√™n s·ªèi, c√¢y g·∫≠y, con ng∆∞·ªùi ƒë√£ ph√°t minh ra b√†n t√≠nh c·ªï ƒë·∫°i (abacus) ·ªü Trung Qu·ªëc kho·∫£ng 2400 nƒÉm tr∆∞·ªõc C√¥ng nguy√™n. ƒê√¢y ƒë∆∞·ª£c coi l√† t·ªï ti√™n c·ªßa <strong>m√°y t√≠nh</strong> hi·ªán ƒë·∫°i, cho ph√©p th·ª±c hi·ªán c√°c ph√©p t√≠nh c·ªông, tr·ª´ m·ªôt c√°ch nhanh ch√≥ng.</p>
                
                <p>V√†o th·∫ø k·ª∑ 17, nh√† to√°n h·ªçc ng∆∞·ªùi Ph√°p Blaise Pascal ƒë√£ ph√°t minh ra "Pascaline", <strong>m√°y t√≠nh c∆° h·ªçc</strong> ƒë·∫ßu ti√™n c√≥ th·ªÉ th·ª±c hi·ªán c√°c ph√©p t√≠nh c·ªông v√† tr·ª´. Ti·∫øp theo, Gottfried Wilhelm Leibniz ƒë√£ c·∫£i ti·∫øn <strong>m√°y t√≠nh</strong> c·ªßa Pascal b·∫±ng c√°ch th√™m kh·∫£ nƒÉng nh√¢n v√† chia. Nh·ªØng ph√°t minh n√†y ƒë·∫∑t n·ªÅn m√≥ng cho s·ª± ph√°t tri·ªÉn c·ªßa <strong>m√°y t√≠nh c∆° h·ªçc</strong> trong su·ªët th·∫ø k·ª∑ 18 v√† 19.</p>
                
                <p>ƒê·∫ßu th·∫ø k·ª∑ 20, Charles Babbage ƒë√£ thi·∫øt k·∫ø "Difference Engine", m·ªôt <strong>m√°y t√≠nh c∆° h·ªçc</strong> c√≥ th·ªÉ t√≠nh to√°n c√°c h√†m to√°n h·ªçc ph·ª©c t·∫°p. √îng c≈©ng l√† ng∆∞·ªùi ƒë∆∞a ra √Ω t∆∞·ªüng v·ªÅ "Analytical Engine", m·ªôt c·ªó m√°y c√≥ th·ªÉ ƒë∆∞·ª£c l·∫≠p tr√¨nh ƒë·ªÉ th·ª±c hi·ªán c√°c ph√©p t√≠nh kh√°c nhau, ƒë∆∞·ª£c coi l√† ti·ªÅn th√¢n c·ªßa <strong>m√°y t√≠nh hi·ªán ƒë·∫°i</strong>.</p>
                
                <p>Th·∫≠p ni√™n 1940 ƒë√°nh d·∫•u s·ª± ra ƒë·ªùi c·ªßa <strong>m√°y t√≠nh ƒëi·ªán t·ª≠</strong> ƒë·∫ßu ti√™n - ENIAC (Electronic Numerical Integrator and Computer). Chi·∫øc m√°y kh·ªïng l·ªì n√†y n·∫∑ng kho·∫£ng 30 t·∫•n, ti√™u th·ª• ƒëi·ªán nƒÉng t∆∞∆°ng ƒë∆∞∆°ng v·ªõi m·ªôt th·ªã tr·∫•n nh·ªè, nh∆∞ng n√≥ ƒë√£ m·ªü ra k·ª∑ nguy√™n m·ªõi c·ªßa c√¥ng ngh·ªá t√≠nh to√°n.</p>
                
                <p>T·ª´ nh·ªØng nƒÉm 1970, v·ªõi s·ª± ra ƒë·ªùi c·ªßa vi x·ª≠ l√Ω, <strong>m√°y t√≠nh c√° nh√¢n</strong> b·∫Øt ƒë·∫ßu xu·∫•t hi·ªán v√† d·∫ßn tr·ªü n√™n ph·ªï bi·∫øn. C√°c c√¥ng ty nh∆∞ Apple, IBM, v√† Microsoft ƒë√£ ƒë√≥ng vai tr√≤ quan tr·ªçng trong vi·ªác ƒë∆∞a <strong>m√°y t√≠nh</strong> ƒë·∫øn v·ªõi m·ªçi ng∆∞·ªùi d√πng. V√† ng√†y nay, v·ªõi s·ª± ph√°t tri·ªÉn c·ªßa internet, <strong>m√°y t√≠nh online</strong> ƒë√£ tr·ªü th√†nh m·ªôt c√¥ng c·ª• kh√¥ng th·ªÉ thi·∫øu trong cu·ªôc s·ªëng h√†ng ng√†y.</p>
                
                <h3>T·∫ßm Quan Tr·ªçng C·ªßa M√°y T√≠nh Trong Cu·ªôc S·ªëng Hi·ªán ƒê·∫°i</h3>
                <p><strong>M√°y t√≠nh</strong> ƒë√£ tr·ªü th√†nh m·ªôt ph·∫ßn kh√¥ng th·ªÉ thi·∫øu trong cu·ªôc s·ªëng hi·ªán ƒë·∫°i, ·∫£nh h∆∞·ªüng ƒë·∫øn h·∫ßu h·∫øt m·ªçi kh√≠a c·∫°nh t·ª´ gi√°o d·ª•c, kinh doanh, khoa h·ªçc ƒë·∫øn gi·∫£i tr√≠. Trong gi√°o d·ª•c, <strong>m√°y t√≠nh</strong> gi√∫p sinh vi√™n v√† h·ªçc sinh th·ª±c hi·ªán c√°c ph√©p t√≠nh ph·ª©c t·∫°p, tr·ª±c quan h√≥a c√°c kh√°i ni·ªám to√°n h·ªçc, v√† th·ª±c hi·ªán c√°c d·ª± √°n nghi√™n c·ª©u. C√°c gi√°o vi√™n c≈©ng s·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> ƒë·ªÉ t·∫°o ra b√†i gi·∫£ng t∆∞∆°ng t√°c v√† ƒë√°nh gi√° k·∫øt qu·∫£ h·ªçc t·∫≠p c·ªßa h·ªçc sinh.</p>
                
                <p>Trong kinh doanh, <strong>m√°y t√≠nh</strong> l√† c√¥ng c·ª• thi·∫øt y·∫øu cho vi·ªác qu·∫£n l√Ω t√†i ch√≠nh, d·ª± b√°o doanh thu, t√≠nh to√°n l·ª£i nhu·∫≠n, v√† ph√¢n t√≠ch d·ªØ li·ªáu. C√°c doanh nghi·ªáp t·ª´ nh·ªè ƒë·∫øn l·ªõn ƒë·ªÅu d·ª±a v√†o <strong>m√°y t√≠nh</strong> ƒë·ªÉ v·∫≠n h√†nh hi·ªáu qu·∫£, t·ª´ vi·ªác qu·∫£n l√Ω kho h√†ng ƒë·∫øn t·ªëi ∆∞u h√≥a chu·ªói cung ·ª©ng.</p>
                
                <p>Trong lƒ©nh v·ª±c khoa h·ªçc v√† k·ªπ thu·∫≠t, <strong>m√°y t√≠nh</strong> ƒë√≥ng vai tr√≤ trung t√¢m trong vi·ªác m√¥ ph·ªèng c√°c hi·ªán t∆∞·ª£ng t·ª± nhi√™n, thi·∫øt k·∫ø c√°c s·∫£n ph·∫©m m·ªõi, v√† ph√¢n t√≠ch d·ªØ li·ªáu th√≠ nghi·ªám. C√°c nh√† khoa h·ªçc s·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> ƒë·ªÉ gi·∫£i c√°c ph∆∞∆°ng tr√¨nh ph·ª©c t·∫°p, m√¥ h√¨nh h√≥a h·ªá th·ªëng kh√≠ h·∫≠u, v√† th·∫≠m ch√≠ l√† kh√°m ph√° v≈© tr·ª•.</p>
                
                <p>Trong y t·∫ø, <strong>m√°y t√≠nh</strong> gi√∫p c√°c b√°c sƒ© ch·∫©n ƒëo√°n b·ªánh, ph√¢n t√≠ch k·∫øt qu·∫£ x√©t nghi·ªám, v√† l·∫≠p k·∫ø ho·∫°ch ƒëi·ªÅu tr·ªã. C√°c thi·∫øt b·ªã y t·∫ø hi·ªán ƒë·∫°i nh∆∞ m√°y MRI, CT scan ƒë·ªÅu d·ª±a tr√™n c√¥ng ngh·ªá t√≠nh to√°n ƒë·ªÉ t·∫°o ra h√¨nh ·∫£nh chi ti·∫øt b√™n trong c∆° th·ªÉ con ng∆∞·ªùi.</p>
                
                <p>Ngay c·∫£ trong cu·ªôc s·ªëng h√†ng ng√†y, <strong>m√°y t√≠nh</strong> c≈©ng hi·ªán di·ªán trong m·ªçi th·ª© t·ª´ ƒëi·ªán tho·∫°i th√¥ng minh, ƒë·ªìng h·ªì th√¥ng minh ƒë·∫øn c√°c thi·∫øt b·ªã gia d·ª•ng th√¥ng minh. Ch√∫ng gi√∫p ch√∫ng ta qu·∫£n l√Ω th·ªùi gian, theo d√µi s·ª©c kh·ªèe, gi·∫£i tr√≠ v√† k·∫øt n·ªëi v·ªõi ng∆∞·ªùi kh√°c.</p>
                
                <h3>∆Øu ƒêi·ªÉm C·ªßa M√°y T√≠nh Online So V·ªõi M√°y T√≠nh C·ª©ng</h3>
                <p><strong>M√°y t√≠nh online</strong> t·∫°i May-tinh.com mang l·∫°i nhi·ªÅu ∆∞u ƒëi·ªÉm v∆∞·ª£t tr·ªôi so v·ªõi <strong>m√°y t√≠nh c·ª©ng</strong> truy·ªÅn th·ªëng:</p>
                
                <ul>
                    <li><strong>T√≠nh ti·ªán l·ª£i:</strong> B·∫°n c√≥ th·ªÉ truy c·∫≠p <strong>m√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i t·ª´ b·∫•t k·ª≥ ƒë√¢u, ch·ªâ c·∫ßn c√≥ k·∫øt n·ªëi internet. Kh√¥ng c·∫ßn mang theo m·ªôt thi·∫øt b·ªã ri√™ng hay lo l·∫Øng v·ªÅ vi·ªác h·∫øt pin.</li>
                    <li><strong>Kh√¥ng c·∫ßn c√†i ƒë·∫∑t:</strong> Kh√¥ng c·∫ßn t·∫£i xu·ªëng hay c√†i ƒë·∫∑t b·∫•t k·ª≥ ph·∫ßn m·ªÅm n√†o. Ch·ªâ c·∫ßn m·ªü tr√¨nh duy·ªát v√† truy c·∫≠p trang web l√† b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ngay.</li>
                    <li><strong>Lu√¥n c·∫≠p nh·∫≠t:</strong> <strong>M√°y t√≠nh online</strong> c·ªßa ch√∫ng t√¥i lu√¥n ƒë∆∞·ª£c c·∫≠p nh·∫≠t v·ªõi c√°c t√≠nh nƒÉng m·ªõi nh·∫•t v√† s·ª≠a l·ªói m√† b·∫°n kh√¥ng c·∫ßn l√†m g√¨ c·∫£.</li>
                    <li><strong>ƒêa n·ªÅn t·∫£ng:</strong> Ho·∫°t ƒë·ªông t·ªët tr√™n m·ªçi h·ªá ƒëi·ªÅu h√†nh (Windows, macOS, Linux) v√† m·ªçi thi·∫øt b·ªã (m√°y t√≠nh, ƒëi·ªán tho·∫°i, m√°y t√≠nh b·∫£ng).</li>
                    <li><strong>Ti·∫øt ki·ªám chi ph√≠:</strong> Ho√†n to√†n <strong>mi·ªÖn ph√≠</strong>, kh√¥ng c·∫ßn chi ti·ªÅn mua <strong>m√°y t√≠nh c·ª©ng</strong> hay ph·∫ßn m·ªÅm ƒë·∫Øt ti·ªÅn.</li>
                    <li><strong>T√≠nh linh ho·∫°t:</strong> D·ªÖ d√†ng chuy·ªÉn ƒë·ªïi gi·ªØa c√°c lo·∫°i <strong>m√°y t√≠nh</strong> kh√°c nhau (c∆° b·∫£n, khoa h·ªçc) ch·ªâ v·ªõi m·ªôt c√∫ nh·∫•p chu·ªôt.</li>
                    <li><strong>L∆∞u tr·ªØ l·ªãch s·ª≠:</strong> <strong>M√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i l∆∞u tr·ªØ l·ªãch s·ª≠ t√≠nh to√°n gi√∫p b·∫°n d·ªÖ d√†ng theo d√µi v√† ki·ªÉm tra l·∫°i c√°c ph√©p t√≠nh tr∆∞·ªõc ƒë√≥.</li>
                    <li><strong>B·∫£o m·∫≠t:</strong> T·∫•t c·∫£ c√°c ph√©p t√≠nh ƒë∆∞·ª£c th·ª±c hi·ªán tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n, kh√¥ng c√≥ d·ªØ li·ªáu n√†o ƒë∆∞·ª£c g·ª≠i ƒë·∫øn m√°y ch·ªß, ƒë·∫£m b·∫£o t√≠nh ri√™ng t∆∞.</li>
                </ul>
                
                <h3>C√°c Lo·∫°i M√°y T√≠nh C√≥ S·∫µn T·∫°i May-tinh.com</h3>
                <p>T·∫°i May-tinh.com, ch√∫ng t√¥i cung c·∫•p nhi·ªÅu lo·∫°i <strong>m√°y t√≠nh</strong> kh√°c nhau ƒë·ªÉ ƒë√°p ·ª©ng m·ªçi nhu c·∫ßu t√≠nh to√°n c·ªßa b·∫°n:</p>
                
                <p><strong>M√°y t√≠nh c∆° b·∫£n:</strong> ƒê√¢y l√† lo·∫°i <strong>m√°y t√≠nh</strong> ph·ªï bi·∫øn nh·∫•t, th·ª±c hi·ªán c√°c ph√©p t√≠nh c∆° b·∫£n nh∆∞ c·ªông, tr·ª´, nh√¢n, chia, ph·∫ßn trƒÉm, cƒÉn b·∫≠c hai. <strong>M√°y t√≠nh c∆° b·∫£n</strong> c·ªßa ch√∫ng t√¥i c√≤n c√≥ c√°c ch·ª©c nƒÉng nh·ªõ (M+, M-, MR, MC) gi√∫p b·∫°n l∆∞u tr·ªØ v√† s·ª≠ d·ª•ng l·∫°i c√°c k·∫øt qu·∫£ t√≠nh to√°n.</p>
                
                <p><strong>M√°y t√≠nh khoa h·ªçc:</strong> D√†nh cho h·ªçc sinh, sinh vi√™n v√† c√°c chuy√™n gia c·∫ßn th·ª±c hi·ªán c√°c ph√©p t√≠nh ph·ª©c t·∫°p. <strong>M√°y t√≠nh khoa h·ªçc</strong> c·ªßa ch√∫ng t√¥i c√≥ c√°c h√†m l∆∞·ª£ng gi√°c (sin, cos, tan), logarit (log, ln), h√†m m≈© (e^x, 10^x), v√† c√°c ph√©p to√°n kh√°c nh∆∞ giai th·ª´a, gi√° tr·ªã tuy·ªát ƒë·ªëi, v√† c√°c h·∫±ng s·ªë to√°n h·ªçc (œÄ, e).</p>
                
                <p>Ngo√†i ra, ch√∫ng t√¥i c√≤n cung c·∫•p c√°c lo·∫°i <strong>m√°y t√≠nh</strong> chuy√™n d·ª•ng kh√°c nh∆∞:</p>
                
                <ul>
                    <li><strong>M√°y t√≠nh t√†i ch√≠nh:</strong> T√≠nh l√£i su·∫•t, vay v·ªën, ƒë·∫ßu t∆∞, ti·∫øt ki·ªám, v√† c√°c c√¥ng c·ª• t√†i ch√≠nh kh√°c.</li>
                    <li><strong>M√°y t√≠nh BMI:</strong> T√≠nh ch·ªâ s·ªë kh·ªëi c∆° th·ªÉ, ƒë√°nh gi√° t√¨nh tr·∫°ng s·ª©c kh·ªèe.</li>
                    <li><strong>M√°y t√≠nh chuy·ªÉn ƒë·ªïi ƒë∆°n v·ªã:</strong> Chuy·ªÉn ƒë·ªïi gi·ªØa c√°c ƒë∆°n v·ªã ƒëo l∆∞·ªùng, ti·ªÅn t·ªá, nhi·ªát ƒë·ªô, v√† nhi·ªÅu h∆°n n·ªØa.</li>
                    <li><strong>M√°y t√≠nh th·ªëng k√™:</strong> T√≠nh to√°n c√°c ch·ªâ s·ªë th·ªëng k√™ nh∆∞ trung b√¨nh, ph∆∞∆°ng sai, ƒë·ªô l·ªách chu·∫©n.</li>
                </ul>
                
                <h3>H∆∞·ªõng D·∫´n S·ª≠ D·ª•ng M√°y T√≠nh Online</h3>
                <p>S·ª≠ d·ª•ng <strong>m√°y t√≠nh online</strong> t·∫°i May-tinh.com r·∫•t ƒë∆°n gi·∫£n v√† tr·ª±c quan. D∆∞·ªõi ƒë√¢y l√† h∆∞·ªõng d·∫´n chi ti·∫øt cho t·ª´ng lo·∫°i <strong>m√°y t√≠nh</strong>:</p>
                
                <p><strong>M√°y t√≠nh c∆° b·∫£n:</strong></p>
                <ol>
                    <li>M·ªü tr√¨nh duy·ªát web v√† truy c·∫≠p May-tinh.com.</li>
                    <li>Ch·ªçn tab "C∆° B·∫£n" tr√™n <strong>m√°y t√≠nh</strong>.</li>
                    <li>Nh·∫≠p s·ªë v√† ph√©p to√°n b·∫±ng c√°ch nh·∫•p v√†o c√°c n√∫t tr√™n m√†n h√¨nh ho·∫∑c s·ª≠ d·ª•ng b√†n ph√≠m.</li>
                    <li>S·ª≠ d·ª•ng n√∫t "AC" ƒë·ªÉ x√≥a t·∫•t c·∫£, n√∫t "‚å´" ƒë·ªÉ x√≥a k√Ω t·ª± cu·ªëi c√πng.</li>
                    <li>Nh·∫•n "=" ƒë·ªÉ xem k·∫øt qu·∫£.</li>
                    <li>S·ª≠ d·ª•ng c√°c n√∫t nh·ªõ (M+, M-, MR, MC) ƒë·ªÉ l∆∞u tr·ªØ v√† g·ªçi l·∫°i c√°c gi√° tr·ªã.</li>
                </ol>
                
                <p><strong>M√°y t√≠nh khoa h·ªçc:</strong></p>
                <ol>
                    <li>M·ªü tr√¨nh duy·ªát web v√† truy c·∫≠p May-tinh.com.</li>
                    <li>Ch·ªçn tab "Khoa H·ªçc" tr√™n <strong>m√°y t√≠nh</strong>.</li>
                    <li>Ch·ªçn ch·∫ø ƒë·ªô g√≥c (DEG, RAD) ·ªü tr√™n m√†n h√¨nh.</li>
                    <li>Nh·∫≠p s·ªë v√† ch·ªçn h√†m to√°n h·ªçc b·∫°n mu·ªën s·ª≠ d·ª•ng (sin, cos, tan, log, v.v.).</li>
                    <li>Nh·∫≠p gi√° tr·ªã trong ngo·∫∑c ƒë∆°n sau h√†m.</li>
                    <li>S·ª≠ d·ª•ng c√°c h·∫±ng s·ªë œÄ v√† e b·∫±ng c√°ch nh·∫•p v√†o n√∫t t∆∞∆°ng ·ª©ng.</li>
                    <li>Nh·∫•n "=" ƒë·ªÉ xem k·∫øt qu·∫£.</li>
                </ol>
                
                <h3>M·∫πo V√† Th·ªß Thu·∫≠t S·ª≠ D·ª•ng M√°y T√≠nh Hi·ªáu Qu·∫£</h3>
                <p>ƒê·ªÉ t·∫≠n d·ª•ng t·ªëi ƒëa kh·∫£ nƒÉng c·ªßa <strong>m√°y t√≠nh online</strong> t·∫°i May-tinh.com, d∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë m·∫πo v√† th·ªß thu·∫≠t h·ªØu √≠ch:</p>
                
                <ul>
                    <li><strong>S·ª≠ d·ª•ng b√†n ph√≠m:</strong> B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng b√†n ph√≠m ƒë·ªÉ nh·∫≠p s·ªë v√† ph√©p to√°n nhanh h∆°n. C√°c ph√≠m s·ªë, ph√©p to√°n (+, -, *, /), v√† Enter (ƒë·ªÉ t√≠nh k·∫øt qu·∫£) ƒë·ªÅu ƒë∆∞·ª£c h·ªó tr·ª£.</li>
                    <li><strong>S·ª≠ d·ª•ng ngo·∫∑c ƒë∆°n:</strong> Khi th·ª±c hi·ªán c√°c ph√©p t√≠nh ph·ª©c t·∫°p, h√£y s·ª≠ d·ª•ng ngo·∫∑c ƒë∆°n ƒë·ªÉ ƒë·∫£m b·∫£o th·ª© t·ª± ∆∞u ti√™n c·ªßa ph√©p t√≠nh. V√≠ d·ª•: (5 + 3) * 2 = 16.</li>
                    <li><strong>L∆∞u tr·ªØ k·∫øt qu·∫£:</strong> S·ª≠ d·ª•ng c√°c n√∫t nh·ªõ (M+, M-, MR, MC) ƒë·ªÉ l∆∞u tr·ªØ c√°c k·∫øt qu·∫£ t√≠nh to√°n v√† s·ª≠ d·ª•ng l·∫°i sau n√†y. ƒêi·ªÅu n√†y ƒë·∫∑c bi·ªát h·ªØu √≠ch khi b·∫°n c·∫ßn s·ª≠ d·ª•ng m·ªôt gi√° tr·ªã nhi·ªÅu l·∫ßn trong c√°c ph√©p t√≠nh kh√°c nhau.</li>
                    <li><strong>Ki·ªÉm tra l·ªãch s·ª≠:</strong> <strong>M√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i hi·ªÉn th·ªã l·ªãch s·ª≠ c√°c ph√©p t√≠nh g·∫ßn nh·∫•t, gi√∫p b·∫°n d·ªÖ d√†ng theo d√µi v√† ki·ªÉm tra l·∫°i c√°c ph√©p t√≠nh tr∆∞·ªõc ƒë√≥.</li>
                    <li><strong>S·ª≠ d·ª•ng h√†m khoa h·ªçc:</strong> Khi s·ª≠ d·ª•ng <strong>m√°y t√≠nh khoa h·ªçc</strong>, h√£y ƒë·∫£m b·∫£o b·∫°n ƒë√£ ch·ªçn ƒë√∫ng ƒë∆°n v·ªã g√≥c (DEG, RAD) cho c√°c h√†m l∆∞·ª£ng gi√°c. <strong>M√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i m·∫∑c ƒë·ªãnh s·ª≠ d·ª•ng ƒë·ªô (DEG).</li>
                    <li><strong>S·ª≠ d·ª•ng h√†m gi·∫£i t√≠ch:</strong> Khi s·ª≠ d·ª•ng <strong>m√°y t√≠nh gi·∫£i t√≠ch</strong>, h√£y nh·∫≠p ƒë√∫ng c√∫ ph√°p cho c√°c h√†m. V√≠ d·ª•: ‚åäx‚åã(5.7) = 5, ‚åàx‚åâ(5.7) = 6, round(5.7) = 6.</li>
                    <li><strong>S·ª≠ d·ª•ng h·∫±ng s·ªë:</strong> <strong>M√°y t√≠nh khoa h·ªçc</strong> c·ªßa ch√∫ng t√¥i c√≥ c√°c h·∫±ng s·ªë to√°n h·ªçc quan tr·ªçng nh∆∞ œÄ (pi) v√† e (s·ªë Euler). B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ch√∫ng b·∫±ng c√°ch nh·∫•p v√†o n√∫t t∆∞∆°ng ·ª©ng.</li>
                    <li><strong>T√≠nh to√°n l≈©y th·ª´a:</strong> ƒê·ªÉ t√≠nh l≈©y th·ª´a, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng n√∫t "^" tr√™n <strong>m√°y t√≠nh khoa h·ªçc</strong>. V√≠ d·ª•: 2^3 = 8.</li>
                </ul>
                
                <h3>·ª®ng D·ª•ng Th·ª±c T·∫ø C·ªßa M√°y T√≠nh Trong ƒê·ªùi S·ªëng</h3>
                <p><strong>M√°y t√≠nh</strong> kh√¥ng ch·ªâ l√† m·ªôt c√¥ng c·ª• h·ªçc thu·∫≠t m√† c√≤n c√≥ nhi·ªÅu ·ª©ng d·ª•ng th·ª±c t·∫ø trong ƒë·ªùi s·ªëng h√†ng ng√†y. D∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë v√≠ d·ª• v·ªÅ c√°ch b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng <strong>m√°y t√≠nh online</strong> c·ªßa ch√∫ng t√¥i trong c√°c t√¨nh hu·ªëng th·ª±c t·∫ø:</p>
                
                <p><strong>Qu·∫£n l√Ω t√†i ch√≠nh c√° nh√¢n:</strong> S·ª≠ d·ª•ng <strong>m√°y t√≠nh c∆° b·∫£n</strong> ƒë·ªÉ t√≠nh to√°n thu nh·∫≠p, chi ti√™u, v√† ti·∫øt ki·ªám h√†ng th√°ng. B·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng <strong>m√°y t√≠nh t√†i ch√≠nh</strong> ƒë·ªÉ t√≠nh l√£i su·∫•t khi vay ti·ªÅn ho·∫∑c ƒë·∫ßu t∆∞.</p>
                
                <p><strong>N·∫•u ƒÉn v√† l√†m b√°nh:</strong> Khi c·∫ßn ƒëi·ªÅu ch·ªânh c√¥ng th·ª©c cho s·ªë ng∆∞·ªùi kh√°c nhau, <strong>m√°y t√≠nh</strong> gi√∫p b·∫°n t√≠nh to√°n ch√≠nh x√°c l∆∞·ª£ng nguy√™n li·ªáu c·∫ßn thi·∫øt. V√≠ d·ª•: n·∫øu c√¥ng th·ª©c cho 4 ng∆∞·ªùi nh∆∞ng b·∫°n c·∫ßn n·∫•u cho 6 ng∆∞·ªùi, h√£y s·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> ƒë·ªÉ t√≠nh t·ª∑ l·ªá 6/4 = 1.5 v√† nh√¢n t·∫•t c·∫£ nguy√™n li·ªáu v·ªõi 1.5.</p>
                
                <p><strong>Tu s·ª≠a nh√† c·ª≠a:</strong> Khi c·∫ßn t√≠nh to√°n l∆∞·ª£ng v·∫≠t li·ªáu nh∆∞ s∆°n, g·∫°ch, ho·∫∑c g·ªó, <strong>m√°y t√≠nh</strong> gi√∫p b·∫°n ∆∞·ªõc t√≠nh ch√≠nh x√°c s·ªë l∆∞·ª£ng c·∫ßn mua, tr√°nh l√£ng ph√≠ ho·∫∑c thi·∫øu h·ª•t.</p>
                
                <p><strong>L·∫≠p k·∫ø ho·∫°ch du l·ªãch:</strong> S·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> ƒë·ªÉ t√≠nh to√°n ng√¢n s√°ch du l·ªãch, chuy·ªÉn ƒë·ªïi ti·ªÅn t·ªá, ho·∫∑c t√≠nh kho·∫£ng c√°ch v√† th·ªùi gian di chuy·ªÉn.</p>
                
                <p><strong>Gi√°o d·ª•c v√† h·ªçc t·∫≠p:</strong> H·ªçc sinh v√† sinh vi√™n c√≥ th·ªÉ s·ª≠ d·ª•ng <strong>m√°y t√≠nh khoa h·ªçc</strong> ƒë·ªÉ gi·∫£i c√°c b√†i to√°n ph·ª©c t·∫°p, ki·ªÉm tra k·∫øt qu·∫£, v√† hi·ªÉu r√µ h∆°n v·ªÅ c√°c kh√°i ni·ªám to√°n h·ªçc. <strong>M√°y t√≠nh cho h·ªçc sinh</strong> l√† c√¥ng c·ª• kh√¥ng th·ªÉ thi·∫øu trong qu√° tr√¨nh h·ªçc t·∫≠p.</p>
                
                <p><strong>C√¥ng vi·ªác v√† kinh doanh:</strong> C√°c chuy√™n gia s·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> ƒë·ªÉ t√≠nh to√°n t·ª∑ su·∫•t l·ª£i nhu·∫≠n, ph√¢n t√≠ch d·ªØ li·ªáu b√°n h√†ng, v√† l·∫≠p k·∫ø ho·∫°ch t√†i ch√≠nh.</p>
                
                <p><strong>S·ª©c kh·ªèe v√† th·ªÉ h√¨nh:</strong> S·ª≠ d·ª•ng <strong>m√°y t√≠nh BMI</strong> ƒë·ªÉ theo d√µi ch·ªâ s·ªë kh·ªëi c∆° th·ªÉ, ho·∫∑c t√≠nh to√°n l∆∞·ª£ng calo ti√™u th·ª• khi t·∫≠p luy·ªán.</p>
                
                <h3>T∆∞∆°ng Lai C·ªßa M√°y T√≠nh Online</h3>
                <p>C√¥ng ngh·ªá <strong>m√°y t√≠nh</strong> ƒëang ph√°t tri·ªÉn kh√¥ng ng·ª´ng v√† <strong>m√°y t√≠nh online</strong> c≈©ng kh√¥ng ngo·∫°i l·ªá. Trong t∆∞∆°ng lai, ch√∫ng ta c√≥ th·ªÉ k·ª≥ v·ªçng nh·ªØng c·∫£i ti·∫øn sau ƒë√¢y:</p>
                
                <ul>
                    <li><strong>Tr√≠ tu·ªá nh√¢n t·∫°o (AI):</strong> <strong>M√°y t√≠nh</strong> s·∫Ω t√≠ch h·ª£p AI ƒë·ªÉ hi·ªÉu v√† gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ ph·ª©c t·∫°p h∆°n, th·∫≠m ch√≠ c√≥ th·ªÉ g·ª£i √Ω c√°c ph∆∞∆°ng ph√°p t√≠nh to√°n t·ªëi ∆∞u.</li>
                    <li><strong>Giao di·ªán gi·ªçng n√≥i:</strong> Ng∆∞·ªùi d√πng c√≥ th·ªÉ th·ª±c hi·ªán c√°c ph√©p t√≠nh b·∫±ng gi·ªçng n√≥i t·ª± nhi√™n, gi√∫p vi·ªác s·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> tr·ªü n√™n ti·ªán l·ª£i h∆°n.</li>
                    <li><strong>Th·ª±c t·∫ø tƒÉng c∆∞·ªùng (AR):</strong> <strong>M√°y t√≠nh</strong> c√≥ th·ªÉ ƒë∆∞·ª£c t√≠ch h·ª£p v√†o m√¥i tr∆∞·ªùng th·ª±c t·∫ø th√¥ng qua AR, cho ph√©p ng∆∞·ªùi d√πng th·ª±c hi·ªán c√°c ph√©p t√≠nh tr·ª±c ti·∫øp tr√™n c√°c v·∫≠t th·ªÉ trong th·∫ø gi·ªõi th·ª±c.</li>
                    <li><strong>T√≠ch h·ª£p v·ªõi c√°c thi·∫øt b·ªã IoT:</strong> <strong>M√°y t√≠nh</strong> s·∫Ω k·∫øt n·ªëi v·ªõi c√°c thi·∫øt b·ªã th√¥ng minh kh√°c trong nh√† v√† n∆°i l√†m vi·ªác, t·ª± ƒë·ªông th·ª±c hi·ªán c√°c ph√©p to√°n c·∫ßn thi·∫øt.</li>
                    <li><strong>C√° nh√¢n h√≥a:</strong> <strong>M√°y t√≠nh</strong> s·∫Ω h·ªçc th√≥i quen s·ª≠ d·ª•ng c·ªßa t·ª´ng ng∆∞·ªùi d√πng v√† t√πy ch·ªânh giao di·ªán, ch·ª©c nƒÉng ƒë·ªÉ ph√π h·ª£p nh·∫•t v·ªõi nhu c·∫ßu c√° nh√¢n.</li>
                    <li><strong>T√≠nh to√°n ƒë√°m m√¢y n√¢ng cao:</strong> C√°c ph√©p t√≠nh ph·ª©c t·∫°p s·∫Ω ƒë∆∞·ª£c th·ª±c hi·ªán tr√™n ƒë√°m m√¢y, cho ph√©p <strong>m√°y t√≠nh online</strong> x·ª≠ l√Ω c√°c t√°c v·ª• n·∫∑ng m√† kh√¥ng l√†m ch·∫≠m thi·∫øt b·ªã c·ªßa ng∆∞·ªùi d√πng.</li>
                </ul>
                
                <h3>K·∫øt Lu·∫≠n</h3>
                <p><strong>M√°y t√≠nh online</strong> t·∫°i May-tinh.com kh√¥ng ch·ªâ l√† m·ªôt c√¥ng c·ª• t√≠nh to√°n ƒë∆°n thu·∫ßn m√† c√≤n l√† m·ªôt gi·∫£i ph√°p to√†n di·ªán cho m·ªçi nhu c·∫ßu t√≠nh to√°n c·ªßa b·∫°n. V·ªõi giao di·ªán th√¢n thi·ªán, t√≠nh nƒÉng ƒëa d·∫°ng, v√† kh·∫£ nƒÉng truy c·∫≠p t·ª´ m·ªçi thi·∫øt b·ªã, <strong>m√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i l√† l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho h·ªçc sinh, sinh vi√™n, chuy√™n gia v√† m·ªçi ng∆∞·ªùi d√πng.</p>
                
                <p>Ch√∫ng t√¥i cam k·∫øt li√™n t·ª•c c·∫£i ti·∫øn v√† ph√°t tri·ªÉn s·∫£n ph·∫©m ƒë·ªÉ mang ƒë·∫øn tr·∫£i nghi·ªám t·ªët nh·∫•t cho ng∆∞·ªùi d√πng. H√£y truy c·∫≠p May-tinh.com ngay h√¥m nay ƒë·ªÉ kh√°m ph√° s·ª©c m·∫°nh c·ªßa <strong>m√°y t√≠nh online</strong> v√† tr·∫£i nghi·ªám s·ª± ti·ªán l·ª£i m√† n√≥ mang l·∫°i!</p>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section" id="features">
        <div class="container">
            <div class="section-title">
                <h2>T√≠nh NƒÉng N·ªïi B·∫≠t C·ªßa M√°y T√≠nh Online</h2>
                <p><strong>M√°y t√≠nh online</strong> c·ªßa ch√∫ng t√¥i c√≥ nhi·ªÅu t√≠nh nƒÉng h·ªØu √≠ch cho m·ªçi nhu c·∫ßu</p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3>D·ªÖ S·ª≠ D·ª•ng</h3>
                    <p>Giao di·ªán <strong>m√°y t√≠nh</strong> ƒë∆°n gi·∫£n, tr·ª±c quan, ph√π h·ª£p v·ªõi m·ªçi ƒë·ªëi t∆∞·ª£ng ng∆∞·ªùi d√πng</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>T∆∞∆°ng Th√≠ch ƒêa Thi·∫øt B·ªã</h3>
                    <p><strong>M√°y t√≠nh</strong> ho·∫°t ƒë·ªông t·ªët tr√™n m√°y t√≠nh, ƒëi·ªán tho·∫°i v√† m√°y t√≠nh b·∫£ng</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Nhanh Ch√≥ng</h3>
                    <p><strong>M√°y t√≠nh</strong> t√≠nh to√°n t·ª©c th√¨, kh√¥ng c·∫ßn ch·ªù ƒë·ª£i, ti·∫øt ki·ªám th·ªùi gian</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>B·∫£o M·∫≠t</h3>
                    <p>To√†n b·ªô d·ªØ li·ªáu <strong>m√°y t√≠nh</strong> ƒë∆∞·ª£c x·ª≠ l√Ω t·∫°i tr√¨nh duy·ªát, kh√¥ng l∆∞u tr·ªØ th√¥ng tin</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Ad Section 2 - For AdSense Auto Ads -->
    <section class="ad-section">
        <div class="container">
            <!-- AdSense will automatically place ads here -->
        </div>
    </section>

    <!-- Future Features Section -->
    <section class="future-features-section" id="future">
        <div class="container">
            <div class="section-title">
                <h2>T√≠nh NƒÉng T∆∞∆°ng Lai C·ªßa M√°y T√≠nh Online</h2>
                <p>Kh√°m ph√° c√°c t√≠nh nƒÉng ƒë·ªôt ph√° s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t trong t∆∞∆°ng lai</p>
            </div>
            
            <div class="future-features-grid">
                <div class="future-feature-card">
                    <div class="future-feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>Tr√≠ Tu·ªá Nh√¢n T·∫°o (AI)</h3>
                    <p><strong>M√°y t√≠nh</strong> s·∫Ω t√≠ch h·ª£p AI ƒë·ªÉ hi·ªÉu v√† gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ ph·ª©c t·∫°p h∆°n, th·∫≠m ch√≠ c√≥ th·ªÉ g·ª£i √Ω c√°c ph∆∞∆°ng ph√°p t√≠nh to√°n t·ªëi ∆∞u d·ª±a tr√™n ng·ªØ c·∫£nh v√† l·ªãch s·ª≠ s·ª≠ d·ª•ng c·ªßa ng∆∞·ªùi d√πng.</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="future-feature-card">
                    <div class="future-feature-icon">
                        <i class="fas fa-microphone-alt"></i>
                    </div>
                    <h3>Giao Di·ªán Gi·ªçng N√≥i</h3>
                    <p>Ng∆∞·ªùi d√πng c√≥ th·ªÉ th·ª±c hi·ªán c√°c ph√©p t√≠nh b·∫±ng gi·ªçng n√≥i t·ª± nhi√™n, gi√∫p vi·ªác s·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> tr·ªü n√™n ti·ªán l·ª£i h∆°n, ƒë·∫∑c bi·ªát khi tay ƒëang b·∫≠n ho·∫∑c khi s·ª≠ d·ª•ng tr√™n thi·∫øt b·ªã di ƒë·ªông.</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="future-feature-card">
                    <div class="future-feature-icon">
                        <i class="fas fa-vr-cardboard"></i>
                    </div>
                    <h3>Th·ª±c T·∫ø TƒÉng C∆∞·ªùng (AR)</h3>
                    <p><strong>M√°y t√≠nh</strong> s·∫Ω ƒë∆∞·ª£c t√≠ch h·ª£p v√†o m√¥i tr∆∞·ªùng th·ª±c t·∫ø th√¥ng qua AR, cho ph√©p ng∆∞·ªùi d√πng th·ª±c hi·ªán c√°c ph√©p t√≠nh tr·ª±c ti·∫øp tr√™n c√°c v·∫≠t th·ªÉ trong th·∫ø gi·ªõi th·ª±c th√¥ng qua camera ƒëi·ªán tho·∫°i.</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="future-feature-card">
                    <div class="future-feature-icon">
                        <i class="fas fa-network-wired"></i>
                    </div>
                    <h3>T√≠ch H·ª£p IoT</h3>
                    <p><strong>M√°y t√≠nh</strong> s·∫Ω k·∫øt n·ªëi v·ªõi c√°c thi·∫øt b·ªã th√¥ng minh kh√°c trong nh√† v√† n∆°i l√†m vi·ªác, t·ª± ƒë·ªông th·ª±c hi·ªán c√°c ph√©p to√°n c·∫ßn thi·∫øt v√† hi·ªÉn th·ªã k·∫øt qu·∫£ tr√™n c√°c thi·∫øt b·ªã ƒë∆∞·ª£c k·∫øt n·ªëi.</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="future-feature-card">
                    <div class="future-feature-icon">
                        <i class="fas fa-user-cog"></i>
                    </div>
                    <h3>C√° Nh√¢n H√≥a</h3>
                    <p><strong>M√°y t√≠nh</strong> s·∫Ω h·ªçc th√≥i quen s·ª≠ d·ª•ng c·ªßa t·ª´ng ng∆∞·ªùi d√πng v√† t√πy ch·ªânh giao di·ªán, ch·ª©c nƒÉng ƒë·ªÉ ph√π h·ª£p nh·∫•t v·ªõi nhu c·∫ßu c√° nh√¢n, t·∫°o ra tr·∫£i nghi·ªám t√≠nh to√°n ƒë·ªôc ƒë√°o cho m·ªói ng∆∞·ªùi.</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
                
                <div class="future-feature-card">
                    <div class="future-feature-icon">
                        <i class="fas fa-cloud"></i>
                    </div>
                    <h3>T√≠nh To√°n ƒê√°m M√¢y N√¢ng Cao</h3>
                    <p>C√°c ph√©p t√≠nh ph·ª©c t·∫°p s·∫Ω ƒë∆∞·ª£c th·ª±c hi·ªán tr√™n ƒë√°m m√¢y, cho ph√©p <strong>m√°y t√≠nh online</strong> x·ª≠ l√Ω c√°c t√°c v·ª• n·∫∑ng m√† kh√¥ng l√†m ch·∫≠m thi·∫øt b·ªã c·ªßa ng∆∞·ªùi d√πng, ƒë·ªìng th·ªùi cung c·∫•p k·∫øt qu·∫£ nhanh h∆°n.</p>
                    <a href="#">T√¨m hi·ªÉu th√™m <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Calculators Section -->
    <section class="calculators-section">
        <div class="container">
            <div class="section-title">
                <h2>C√°c Lo·∫°i M√°y T√≠nh Kh√°c</h2>
                <p>Ch√∫ng t√¥i cung c·∫•p nhi·ªÅu lo·∫°i <strong>m√°y t√≠nh</strong> chuy√™n d·ª•ng cho m·ªçi nhu c·∫ßu</p>
            </div>
            
            <div class="calculators-grid">
                <div class="calculator-card">
                    <div class="calculator-card-img">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <div class="calculator-card-body">
                        <h3>M√°y T√≠nh T√†i Ch√≠nh</h3>
                        <p>T√≠nh l√£i su·∫•t, vay v·ªën, ƒë·∫ßu t∆∞, ti·∫øt ki·ªám v√† c√°c c√¥ng c·ª• t√†i ch√≠nh kh√°c</p>
                        <a href="#">S·ª≠ d·ª•ng <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="calculator-card">
                    <div class="calculator-card-img">
                        <i class="fas fa-weight"></i>
                    </div>
                    <div class="calculator-card-body">
                        <h3>M√°y T√≠nh BMI</h3>
                        <p>T√≠nh ch·ªâ s·ªë kh·ªëi c∆° th·ªÉ, ƒë√°nh gi√° t√¨nh tr·∫°ng s·ª©c kh·ªèe</p>
                        <a href="#">S·ª≠ d·ª•ng <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="calculator-card">
                    <div class="calculator-card-img">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="calculator-card-body">
                        <h3>M√°y T√≠nh Chuy·ªÉn ƒê·ªïi</h3>
                        <p>Chuy·ªÉn ƒë·ªïi ƒë∆°n v·ªã ƒëo l∆∞·ªùng, ti·ªÅn t·ªá, nhi·ªát ƒë·ªô v√† nhi·ªÅu h∆°n n·ªØa</p>
                        <a href="#">S·ª≠ d·ª•ng <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="calculator-card">
                    <div class="calculator-card-img">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="calculator-card-body">
                        <h3>M√°y T√≠nh Th·ªëng K√™</h3>
                        <p>T√≠nh to√°n c√°c ch·ªâ s·ªë th·ªëng k√™ nh∆∞ trung b√¨nh, ph∆∞∆°ng sai, ƒë·ªô l·ªách chu·∫©n</p>
                        <a href="#">S·ª≠ d·ª•ng <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section class="blog-section" id="blog">
        <div class="container">
            <div class="section-title">
                <h2>Blog M√°y T√≠nh</h2>
                <p>C√°c b√†i vi·∫øt h·ªØu √≠ch v·ªÅ <strong>m√°y t√≠nh</strong> v√† to√°n h·ªçc</p>
            </div>
            
            <div class="blog-grid">
                <div class="blog-card">
                    <div class="blog-img">
                        H√¨nh ·∫£nh b√†i vi·∫øt 1
                    </div>
                    <div class="blog-body">
                        <div class="blog-date">15/10/2023</div>
                        <h3 class="blog-title">L·ªãch S·ª≠ Ph√°t Tri·ªÉn C·ªßa M√°y T√≠nh</h3>
                        <p class="blog-excerpt">Kh√°m ph√° h√†nh tr√¨nh ph√°t tri·ªÉn ·∫•n t∆∞·ª£ng c·ªßa <strong>m√°y t√≠nh</strong> t·ª´ nh·ªØng c√¥ng c·ª• c∆° b·∫£n nh·∫•t ƒë·∫øn c√°c si√™u <strong>m√°y t√≠nh ƒëi·ªán t·ª≠</strong> hi·ªán ƒë·∫°i...</p>
                        <a href="#" class="blog-link">ƒê·ªçc th√™m <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="blog-card">
                    <div class="blog-img">
                        H√¨nh ·∫£nh b√†i vi·∫øt 2
                    </div>
                    <div class="blog-body">
                        <div class="blog-date">10/10/2023</div>
                        <h3 class="blog-title">C√°ch S·ª≠ D·ª•ng M√°y T√≠nh Khoa H·ªçc Hi·ªáu Qu·∫£</h3>
                        <p class="blog-excerpt">H∆∞·ªõng d·∫´n chi ti·∫øt c√°ch s·ª≠ d·ª•ng c√°c h√†m tr√™n <strong>m√°y t√≠nh khoa h·ªçc</strong> ƒë·ªÉ gi·∫£i quy·∫øt c√°c b√†i to√°n ph·ª©c t·∫°p...</p>
                        <a href="#" class="blog-link">ƒê·ªçc th√™m <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="blog-card">
                    <div class="blog-img">
                        H√¨nh ·∫£nh b√†i vi·∫øt 3
                    </div>
                    <div class="blog-body">
                        <div class="blog-date">05/10/2023</div>
                        <h3 class="blog-title">·ª®ng D·ª•ng C·ªßa M√°y T√≠nh Trong Cu·ªôc S·ªëng H√†ng Ng√†y</h3>
                        <p class="blog-excerpt">T√¨m hi·ªÉu c√°ch <strong>m√°y t√≠nh</strong> gi√∫p ch√∫ng ta gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ th·ª±c t·∫ø trong c√¥ng vi·ªác, h·ªçc t·∫≠p v√† cu·ªôc s·ªëng...</p>
                        <a href="#" class="blog-link">ƒê·ªçc th√™m <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ad Section 3 - For AdSense Auto Ads -->
    <section class="ad-section">
        <div class="container">
            <!-- AdSense will automatically place ads here -->
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section" id="faq">
        <div class="container">
            <div class="section-title">
                <h2>C√¢u H·ªèi Th∆∞·ªùng G·∫∑p V·ªÅ M√°y T√≠nh</h2>
                <p>Gi·∫£i ƒë√°p c√°c th·∫Øc m·∫Øc v·ªÅ <strong>m√°y t√≠nh online</strong> c·ªßa ch√∫ng t√¥i</p>
            </div>
            
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                            <strong>M√°y t√≠nh online</strong> c√≥ mi·ªÖn ph√≠ kh√¥ng?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            C√≥, <strong>m√°y t√≠nh online</strong> t·∫°i May-tinh.com ho√†n to√†n mi·ªÖn ph√≠. B·∫°n kh√¥ng c·∫ßn tr·∫£ b·∫•t k·ª≥ kho·∫£n ph√≠ n√†o ƒë·ªÉ s·ª≠ d·ª•ng t·∫•t c·∫£ c√°c t√≠nh nƒÉng c·ªßa <strong>m√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            T√¥i c√≥ th·ªÉ s·ª≠ d·ª•ng <strong>m√°y t√≠nh</strong> tr√™n ƒëi·ªán tho·∫°i kh√¥ng?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            C√≥, <strong>m√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ho·∫°t ƒë·ªông t·ªët tr√™n m·ªçi thi·∫øt b·ªã, bao g·ªìm c·∫£ ƒëi·ªán tho·∫°i th√¥ng minh v√† m√°y t√≠nh b·∫£ng. Giao di·ªán s·∫Ω t·ª± ƒë·ªông ƒëi·ªÅu ch·ªânh ƒë·ªÉ ph√π h·ª£p v·ªõi k√≠ch th∆∞·ªõc m√†n h√¨nh c·ªßa b·∫°n.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            <strong>M√°y t√≠nh</strong> c√≥ l∆∞u tr·ªØ d·ªØ li·ªáu c·ªßa t√¥i kh√¥ng?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Kh√¥ng, <strong>m√°y t√≠nh</strong> c·ªßa ch√∫ng t√¥i kh√¥ng l∆∞u tr·ªØ b·∫•t k·ª≥ d·ªØ li·ªáu n√†o c·ªßa b·∫°n. T·∫•t c·∫£ c√°c ph√©p t√≠nh ƒë∆∞·ª£c th·ª±c hi·ªán tr·ª±c ti·∫øp tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n v√† kh√¥ng ƒë∆∞·ª£c g·ª≠i ƒë·∫øn m√°y ch·ªß c·ªßa ch√∫ng t√¥i.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            L√†m th·∫ø n√†o ƒë·ªÉ chuy·ªÉn gi·ªØa c√°c lo·∫°i <strong>m√°y t√≠nh</strong> kh√°c nhau?
                        </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            B·∫°n c√≥ th·ªÉ d·ªÖ d√†ng chuy·ªÉn ƒë·ªïi gi·ªØa c√°c lo·∫°i <strong>m√°y t√≠nh</strong> b·∫±ng c√°ch nh·∫•p v√†o c√°c tab ·ªü tr√™n c√πng c·ªßa <strong>m√°y t√≠nh</strong>: "C∆° B·∫£n", "Khoa H·ªçc". M·ªói tab s·∫Ω hi·ªÉn th·ªã c√°c ch·ª©c nƒÉng t∆∞∆°ng ·ª©ng v·ªõi lo·∫°i <strong>m√°y t√≠nh</strong> ƒë√≥.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFive">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            T√¥i c√≥ th·ªÉ s·ª≠ d·ª•ng b√†n ph√≠m ƒë·ªÉ nh·∫≠p s·ªë kh√¥ng?
                        </button>
                    </h2>
                    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            C√≥, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng b√†n ph√≠m ƒë·ªÉ nh·∫≠p s·ªë v√† c√°c ph√©p to√°n c∆° b·∫£n. C√°c ph√≠m s·ªë, ph√©p to√°n (+, -, *, /), v√† Enter (ƒë·ªÉ t√≠nh k·∫øt qu·∫£) ƒë·ªÅu ƒë∆∞·ª£c h·ªó tr·ª£. Tuy nhi√™n, m·ªôt s·ªë h√†m ƒë·∫∑c bi·ªát c√≥ th·ªÉ c·∫ßn s·ª≠ d·ª•ng chu·ªôt.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <div class="section-title">
                <h2>V·ªÅ Ch√∫ng T√¥i - May-tinh.com</h2>
                <p>Gi·ªõi thi·ªáu v·ªÅ n·ªÅn t·∫£ng <strong>m√°y t√≠nh online</strong> h√†ng ƒë·∫ßu Vi·ªát Nam</p>
            </div>
            
            <div class="about-content">
                <div class="about-text">
                    <h3>May-tinh.com - N·ªÅn T·∫£ng M√°y T√≠nh Online H√†ng ƒê·∫ßu Vi·ªát Nam</h3>
                    <p>May-tinh.com ƒë∆∞·ª£c th√†nh l·∫≠p v·ªõi s·ª© m·ªánh mang ƒë·∫øn cho ng∆∞·ªùi Vi·ªát Nam m·ªôt c√¥ng c·ª• <strong>m√°y t√≠nh</strong> tr·ª±c tuy·∫øn mi·ªÖn ph√≠, ch√≠nh x√°c v√† d·ªÖ s·ª≠ d·ª•ng. Ch√∫ng t√¥i hi·ªÉu r·∫±ng trong cu·ªôc s·ªëng hi·ªán ƒë·∫°i, vi·ªác c√≥ m·ªôt <strong>m√°y t√≠nh</strong> ƒë√°ng tin c·∫≠y l√† r·∫•t quan tr·ªçng cho c√¥ng vi·ªác, h·ªçc t·∫≠p v√† cu·ªôc s·ªëng h√†ng ng√†y.</p>
                    
                    <p>ƒê·ªôi ng≈© c·ªßa ch√∫ng t√¥i bao g·ªìm c√°c chuy√™n gia c√¥ng ngh·ªá, to√°n h·ªçc v√† thi·∫øt k·∫ø giao di·ªán ng∆∞·ªùi d√πng, c√πng l√†m vi·ªác ƒë·ªÉ t·∫°o ra m·ªôt s·∫£n ph·∫©m kh√¥ng ch·ªâ ch·ª©c nƒÉng m√† c√≤n th√¢n thi·ªán v·ªõi ng∆∞·ªùi d√πng. Ch√∫ng t√¥i li√™n t·ª•c c·∫≠p nh·∫≠t v√† c·∫£i ti·∫øn s·∫£n ph·∫©m ƒë·ªÉ ƒë√°p ·ª©ng nhu c·∫ßu ng√†y c√†ng cao c·ªßa ng∆∞·ªùi d√πng.</p>
                    
                    <p>Ngo√†i <strong>m√°y t√≠nh c∆° b·∫£n</strong>, ch√∫ng t√¥i c√≤n ph√°t tri·ªÉn c√°c lo·∫°i <strong>m√°y t√≠nh</strong> chuy√™n d·ª•ng nh∆∞ <strong>m√°y t√≠nh khoa h·ªçc</strong>, <strong>m√°y t√≠nh t√†i ch√≠nh</strong>, <strong>m√°y t√≠nh BMI</strong>, v√† nhi·ªÅu c√¥ng c·ª• kh√°c ƒë·ªÉ ph·ª•c v·ª• m·ªçi nhu c·∫ßu t√≠nh to√°n c·ªßa b·∫°n.</p>
                    
                    <p>Ch√∫ng t√¥i cam k·∫øt cung c·∫•p d·ªãch v·ª• <strong>mi·ªÖn ph√≠</strong> v√† kh√¥ng bao gi·ªù thu th·∫≠p th√¥ng tin c√° nh√¢n c·ªßa ng∆∞·ªùi d√πng. T·∫•t c·∫£ c√°c ph√©p t√≠nh ƒë∆∞·ª£c th·ª±c hi·ªán tr·ª±c ti·∫øp tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n, ƒë·∫£m b·∫£o t√≠nh ri√™ng t∆∞ v√† b·∫£o m·∫≠t.</p>
                </div>
                
                <div class="about-img">
                    H√¨nh ·∫£nh v·ªÅ ch√∫ng t√¥i
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>V·ªÅ M√°y T√≠nh</h3>
                    <p>May-tinh.com cung c·∫•p c√°c c√¥ng c·ª• <strong>m√°y t√≠nh</strong> tr·ª±c tuy·∫øn mi·ªÖn ph√≠, ch√≠nh x√°c v√† d·ªÖ s·ª≠ d·ª•ng cho m·ªçi ng∆∞·ªùi Vi·ªát Nam.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Li√™n K·∫øt Nhanh</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Trang Ch·ªß</a></li>
                        <li><a href="#calculators">M√°y T√≠nh</a></li>
                        <li><a href="#features">T√≠nh NƒÉng</a></li>
                        <li><a href="#future">T√≠nh NƒÉng T∆∞∆°ng Lai</a></li>
                        <li><a href="#blog">Blog</a></li>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="#about">V·ªÅ Ch√∫ng T√¥i</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Lo·∫°i M√°y T√≠nh</h3>
                    <ul class="footer-links">
                        <li><a href="#">M√°y T√≠nh C∆° B·∫£n</a></li>
                        <li><a href="#">M√°y T√≠nh Khoa H·ªçc</a></li>
                        <li><a href="#">M√°y T√≠nh T√†i Ch√≠nh</a></li>
                        <li><a href="#">M√°y T√≠nh BMI</a></li>
                        <li><a href="#">M√°y T√≠nh Chuy·ªÉn ƒê·ªïi</a></li>
                        <li><a href="#">M√°y T√≠nh Th·ªëng K√™</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Li√™n H·ªá</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> H√† N·ªôi, Vi·ªát Nam</li>
                        <li><i class="fas fa-phone"></i> +84 123 456 789</li>
                        <li><i class="fas fa-envelope"></i> info@may-tinh.com</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 May-tinh.com. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
            </div>
        </div>
    </footer>

    <!-- Modal moved outside calculator section -->
    <div class="modal-overlay" id="historyModal" role="dialog" aria-modal="true" aria-labelledby="historyTitle">
        <div class="modal">
            <h2 id="historyTitle">L·ªãch s·ª≠ t√≠nh to√°n</h2>
            <div id="historyContent" tabindex="0"></div>
            <button class="close-btn" onclick="closeHistory()" aria-label="ƒê√≥ng l·ªãch s·ª≠">√ó</button>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Mobile Menu JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('active');
                
                // Change icon between bars and times
                const icon = mobileMenuBtn.querySelector('i');
                if (icon.classList.contains('fa-bars')) {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                } else {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            });
            
            // Close mobile menu when clicking on a link
            const mobileLinks = document.querySelectorAll('.mobile-menu-links a');
            mobileLinks.forEach(link => {
                link.addEventListener('click', function() {
                    mobileMenu.classList.remove('active');
                    const icon = mobileMenuBtn.querySelector('i');
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                });
            });
        });
    </script>
    
    <!-- Calculator JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/mathjs@11.9.1/lib/browser/math.js"></script>
    <script>
      const display = document.getElementById('display');
  const expression = document.getElementById('expression');
  const historyBtn = document.getElementById('historyBtn');
  const historyModal = document.getElementById('historyModal');
  const historyContent = document.getElementById('historyContent');
  const basicBtn = document.getElementById('basicBtn');
  const sciBtn = document.getElementById('sciBtn');
  const basicButtons = document.getElementById('basicButtons');
  const sciButtons = document.getElementById('sciButtons');
  const angleRadios = document.querySelectorAll('input[name="angleMode"]');
  const acBackspaceBtn = document.getElementById('acBackspaceBtn');

  let angleMode = 'deg';
  let history = [];
  let isResult = false;
  let lastOperator = null;
  let savedSelection = null; // To save cursor position
  let isACMode = true; // Track if the button should show AC or Backspace
  let currentMode = 'basic'; // Track current mode
  let insideFunction = false; // Track if cursor is inside a function

  basicBtn.onclick = () => toggleMode('basic');
  sciBtn.onclick = () => toggleMode('scientific');
  historyBtn.onclick = openHistory;

  // Initialize the calculator based on screen size
  function initializeCalculator() {
    if (window.innerWidth <= 768) {
      // Mobile view
      currentMode = 'basic';
      basicButtons.style.display = 'grid';
      sciButtons.style.display = 'none';
      basicBtn.classList.add('active');
      sciBtn.classList.remove('active');
    } else {
      // Desktop view - both button sets should be visible
      basicButtons.style.display = 'grid';
      sciButtons.style.display = 'grid';
      basicBtn.classList.remove('active');
      sciBtn.classList.remove('active');
    }
  }

  // Handle window resize
  window.addEventListener('resize', initializeCalculator);

  function toggleMode(mode) {
    // Only apply mode toggle in mobile view
    if (window.innerWidth <= 768) {
      currentMode = mode;
      if (mode === 'basic') {
        basicButtons.style.display = 'grid';
        sciButtons.style.display = 'none';
        basicBtn.classList.add('active');
        sciBtn.classList.remove('active');
      } else {
        basicButtons.style.display = 'none';
        sciButtons.style.display = 'grid';
        basicBtn.classList.remove('active');
        sciBtn.classList.add('active');
      }
    }
    focusDisplay();
  }

  function focusDisplay() {
    display.focus();
  }

  function saveCursorPosition() {
    const sel = window.getSelection();
    if (sel.rangeCount > 0) {
      savedSelection = sel.getRangeAt(0);
    }
  }

  function restoreCursorPosition() {
    if (savedSelection) {
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(savedSelection);
    }
  }

  function placeCaretAtEnd(el) {
    el.focus();
    if (typeof window.getSelection !== "undefined" &&
        typeof document.createRange !== "undefined") {
      let range = document.createRange();
      range.selectNodeContents(el);
      range.collapse(false);
      let sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    }
  }

  function placeCaretAt(node) {
    focusDisplay();
    if (typeof window.getSelection !== "undefined" &&
        typeof document.createRange !== "undefined") {
      let range = document.createRange();
      range.selectNodeContents(node);
      range.collapse(false);
      let sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    }
  }

  function placeCaretAtBeginning(node) {
    focusDisplay();
    if (typeof window.getSelection !== "undefined" &&
        typeof document.createRange !== "undefined") {
      let range = document.createRange();
      range.selectNodeContents(node);
      range.collapse(true);
      let sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    }
  }

  function updateACBackspaceButton() {
    if (isACMode) {
      acBackspaceBtn.textContent = 'AC';
    } else {
      acBackspaceBtn.textContent = '‚å´';
    }
  }

  function toggleACBackspace() {
    if (isACMode) {
      clearAll();
    } else {
      backspace();
    }
  }

  function insertChar(char) {
    // If we're starting a new operation after a result with a digit, clear the display
    if (isResult && !isNaN(char)) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Change AC to Backspace when user starts typing a digit
    if (isACMode && !isNaN(char) && display.innerText.trim() !== '0') {
      isACMode = false;
      updateACBackspaceButton();
    }
    
    // Handle operator replacement
    if (['+', '-', '*', '/'].includes(char)) {
      // If we're starting a new operation after a result, keep the result
      if (isResult) {
        isResult = false;
      }
      
      // Get the plain text content
      const text = getPlainExpression(display).trim();
      const lastChar = text.length > 0 ? text.charAt(text.length - 1) : '';
      
      // For non-minus operators, replace any existing operator at the end
      if (char !== '-') {
        if (['+', '-', '√ó', '√∑'].includes(lastChar)) {
          // Remove the last operator
          placeCaretAtEnd(display);
          backspace();
        }
      } else {
        // For minus operator, special handling
        if (['+', '√ó', '√∑'].includes(lastChar)) {
          // Allow minus after other operators (for negative numbers)
          // Just insert the minus
        } else if (lastChar === '-') {
          // If last character is already a minus, replace it
          placeCaretAtEnd(display);
          backspace();
        }
      }
      
      // Remember the current operator for next time
      lastOperator = char;
      
      // Convert to display symbols
      if (char === '/') char = '√∑';
      if (char === '*') char = '√ó';
      
      // Insert the operator
      insertTextAtCursor(char);
      focusDisplay();
      return;
    }
    
    if (char === '.') {
      let text = getPlainExpression(display);
      const sel = window.getSelection();
      let range = sel.rangeCount ? sel.getRangeAt(0) : null;
      let pos = range ? range.startOffset : text.length;
      let before = text.substr(0, pos);
      let after = text.substr(pos);

      let lastGroup = before.match(/(\d*\.\d*|\d+)$/);
      if (lastGroup && lastGroup[0].includes('.')) return;
      if (after.match(/^\d*\./)) return;
    }
    if (char === '/') char = '√∑';
    if (display.innerText.trim() === '0') display.innerHTML = '';
    if (char === '*') char = '√ó';
    insertTextAtCursor(char);
    focusDisplay();
  }

  function insertTextAtCursor(text) {
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    const range = sel.getRangeAt(0);
    
    // --- Start of Corrected Logic for Exponent Box ---
    let container = range.startContainer;
    let expBox = null;

    // Check if the cursor is inside an exponent box, whether it's empty or not.
    if (container.nodeType === Node.ELEMENT_NODE && container.classList.contains('exp')) {
      // Case 1: Cursor is in an empty exponent box.
      expBox = container;
    } else if (container.nodeType === Node.TEXT_NODE && container.parentNode.classList.contains('exp')) {
      // Case 2: Cursor is in a text node that's inside an exponent box.
      expBox = container.parentNode;
    }

    if (expBox) {
      // If we are inside an exponent box, handle it here.
      if (!expBox.classList.contains('typed')) {
        // If it's the first character, add the 'typed' class to remove the box visuals.
        expBox.classList.add('typed');
      }
      
      // Use standard insertion logic which works correctly.
      range.deleteContents();
      const textNode = document.createTextNode(text);
      range.insertNode(textNode);
      // Move cursor after the newly inserted character.
      range.setStart(textNode, text.length);
      range.collapse(true);
      sel.removeAllRanges();
      sel.addRange(range);
      savedSelection = range;
      return; // Exit the function since we've handled the insertion.
    }
    // --- End of Corrected Logic ---
    
    // This is the original logic for all other cases (not in an exponent box).
    range.deleteContents();
    const textNode = document.createTextNode(text);
    range.insertNode(textNode);
    range.setStart(textNode, text.length);
    range.collapse(true);
    sel.removeAllRanges();
    sel.addRange(range);
    // Save this position
    savedSelection = range;
  }
  function backspace() {
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    const range = sel.getRangeAt(0);

    if (!range.collapsed) {
      range.deleteContents();
      // Save this position
      savedSelection = range;
      // Check if we should switch to AC mode
      checkIfInsideFunction();
      return;
    }

    let node = range.startContainer;
    let offset = range.startOffset;

    // Handle backspace in power expressions
    if (node.classList && node.classList.contains('exp')) {
      if (node.textContent.length <= 1) {
        // If exponent has one character or is empty, move cursor to base
        const powerExpr = node.closest('.power-expr, .exp-x-expr');
        if (powerExpr) {
          // If the exponent box is empty, remove the entire function
          if (node.textContent.trim() === '') {
            powerExpr.remove();
            placeCaretAtEnd(display);
            // Switch back to AC mode
            isACMode = true;
            updateACBackspaceButton();
            return;
          }
          
          const baseNode = powerExpr.querySelector('.base');
          placeCaretAtEnd(baseNode);
          // Check if we should switch to AC mode
          checkIfInsideFunction();
          return;
        }
      } else {
        // Remove last character from exponent
        const currentText = node.textContent;
        node.textContent = currentText.slice(0, -1);
        // Move cursor to end
        range.selectNodeContents(node);
        range.collapse(false);
        sel.removeAllRanges();
        sel.addRange(range);
        
        // CRITICAL FIX: Check if the exponent box is now empty after removing the character
        if (node.textContent.trim() === '') {
          // Switch to AC mode if the exponent box is empty
          isACMode = true;
          updateACBackspaceButton();
        } else {
          // Otherwise, check if we're inside a function
          checkIfInsideFunction();
        }
        return;
      }
    }

    // Handle backspace after calculation (when display contains plain text)
    if (node.nodeType === Node.TEXT_NODE && node.parentNode === display) {
      if (offset > 0) {
        node.textContent = node.textContent.slice(0, offset - 1) + node.textContent.slice(offset);
        setCaretPosition(node, offset - 1);
      } else if (node.previousSibling) {
        let prev = node.previousSibling;
        if (prev.nodeType === Node.TEXT_NODE) {
          let len = prev.textContent.length;
          prev.textContent = prev.textContent.slice(0, -1);
          setCaretPosition(prev, Math.max(0, len - 1));
        } else {
          prev.remove();
        }
      }
    } else if (node.nodeType === Node.TEXT_NODE) {
      if (offset > 0) {
        node.textContent = node.textContent.slice(0, offset - 1) + node.textContent.slice(offset);
        setCaretPosition(node, offset - 1);
        
        // CRITICAL FIX: If we just cleared the exponent text, check if it's empty
        let expNode = node;
        if (node.parentNode && node.parentNode.classList.contains('exp')) {
          expNode = node.parentNode;
          if (expNode.textContent === '') {
            expNode.classList.remove('typed');
            // Switch to AC mode if the exponent box is empty
            isACMode = true;
            updateACBackspaceButton();
          }
        }
      } else {
        if (node.previousSibling) {
          let prev = node.previousSibling;
          if (prev.nodeType === Node.TEXT_NODE) {
            let len = prev.textContent.length;
            prev.textContent = prev.textContent.slice(0, -1);
            setCaretPosition(prev, Math.max(0, len - 1));
          } else {
            prev.remove();
          }
        }
      }
    } else if (node.nodeType === Node.ELEMENT_NODE && node !== display) {
      // If we're at the beginning of an element, remove the element
      if (offset === 0 && node.previousSibling) {
        node.previousSibling.remove();
        placeCaretAtEnd(display);
      }
    }

    // Check if display is empty after backspace and reset to 0 if needed
    if (display.innerText.trim() === '') {
      display.innerHTML = '0';
      placeCaretAtEnd(display);
      // Switch back to AC mode
      isACMode = true;
      updateACBackspaceButton();
    } else {
      // Check if we're inside a function
      checkIfInsideFunction();
    }
  }

  // Function to check if cursor is inside a function
  function checkIfInsideFunction() {
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    
    const range = sel.getRangeAt(0);
    let node = range.startContainer;
    
    // Check if cursor is inside an exponent box of e^x or x^y
    if (node.classList && node.classList.contains('exp')) {
      const expXExpr = node.closest('.exp-x-expr, .power-expr');
      if (expXExpr) {
        // If the exponent box is empty, we're inside a function
        if (node.textContent.trim() === '') {
          isACMode = true;
                    updateACBackspaceButton();
          return;
        }
      }
    }
    
    // CRITICAL FIX: Also check if cursor is in a text node inside an exponent box
    if (node.nodeType === Node.TEXT_NODE && node.parentNode && node.parentNode.classList.contains('exp')) {
      const expNode = node.parentNode;
      const expXExpr = expNode.closest('.exp-x-expr, .power-expr');
      if (expXExpr) {
        // If the exponent box is empty, we're inside a function
        if (expNode.textContent.trim() === '') {
          isACMode = true;
          updateACBackspaceButton();
          return;
        }
      }
    }
    
    // Get the plain text content
    const text = getPlainExpression(display);
    
    // Check if we're inside any function parentheses
    let cursorPos = 0;
    
    // Calculate cursor position in the text
    if (node.nodeType === Node.TEXT_NODE) {
      // Find the position of this text node in the display
      let tempNode = display.firstChild;
      while (tempNode && tempNode !== node) {
        if (tempNode.nodeType === Node.TEXT_NODE) {
          cursorPos += tempNode.textContent.length;
        }
        tempNode = tempNode.nextSibling;
      }
      cursorPos += range.startOffset;
    }
    
    // Check if cursor is inside any function parentheses
    let insideAnyFunction = false;
    let openParenCount = 0;
    
    // List of function patterns to check
    const functionPatterns = [
      'sin‚Åª¬π', 'cos‚Åª¬π', 'tan‚Åª¬π', // 4 characters each
      'sin', 'cos', 'tan', 'log', 'ln', 'abs', // 3 characters each
      '1/', // 2 characters
      '¬≥‚àö', // 2 characters
      '‚àö',  // 1 character
      'e^',  // For e^x
      'x^'   // For x^y
    ];
    
    // Sort by length descending to match longer patterns first
    functionPatterns.sort((a, b) => b.length - a.length);
    
    // Also check for power expressions like ()¬≤ and ()¬≥
    const powerPatterns = [')¬≤', ')¬≥'];
    
    // Scan through the text to find function patterns
    for (let i = 0; i < text.length; i++) {
      // Check if any function pattern starts at this position
      let foundFunction = false;
      for (const pattern of functionPatterns) {
        if (text.substr(i, pattern.length) === pattern) {
          // Found a function pattern
          foundFunction = true;
          i += pattern.length - 1; // Skip ahead, but the loop will increment by 1 more
          break;
        }
      }
      
      // Check for power patterns
      let foundPower = false;
      for (const pattern of powerPatterns) {
        if (text.substr(i, pattern.length) === pattern) {
          // Found a power pattern
          foundPower = true;
          i += pattern.length - 1; // Skip ahead, but the loop will increment by 1 more
          break;
        }
      }
      
      if (foundFunction) {
        // The next character should be an opening parenthesis for most functions
        if (i + 1 < text.length && text[i + 1] === '(') {
          openParenCount++;
          i++; // Skip the opening parenthesis
        }
        // Special case for e^x and x^y - they don't have parentheses but are functions
        else if (text.substr(i - 1, 2) === 'e^' || text.substr(i - 1, 2) === 'x^') {
          // These are special function patterns
          openParenCount++;
        }
      } else if (foundPower) {
        // Power patterns like ()¬≤ and ()¬≥ are functions
        openParenCount++;
      } else if (text[i] === '(') {
        openParenCount++;
      } else if (text[i] === ')') {
        if (openParenCount > 0) {
          openParenCount--;
        }
      }
      
      // Check if cursor is at this position
      if (i === cursorPos - 1) {
        // If we have any open parentheses, we're inside a function
        insideAnyFunction = openParenCount > 0;
        break;
      }
    }
    
    // Set AC/Backspace mode based on whether we're inside a function
    if (insideAnyFunction) {
      isACMode = true;
      updateACBackspaceButton();
    } else {
      // Check if only one digit remains
      checkIfOnlyOneDigitRemains();
    }
  }

  // New function to check if only one digit remains
  function checkIfOnlyOneDigitRemains() {
    const text = getPlainExpression(display);
    
    // Check if the text is a single digit (0-9) and length is 1
    if (text.length === 1 && /^\d$/.test(text)) {
      // Switch back to AC mode
      isACMode = true;
      updateACBackspaceButton();
    } else {
      // Make sure we're in backspace mode if there's more than one digit
      isACMode = false;
      updateACBackspaceButton();
    }
  }

  function setCaretPosition(node, offset) {
    const sel = window.getSelection();
    const range = document.createRange();
    range.setStart(node, Math.max(0, offset));
    range.collapse(true);
    sel.removeAllRanges();
    sel.addRange(range);
    // Save this position
    savedSelection = range;
  }

  function insertFunction(func) {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    // Map function names to display names
    const displayNames = {
      'asin': 'sin‚Åª¬π',
      'acos': 'cos‚Åª¬π',
      'atan': 'tan‚Åª¬π'
    };
    
    const displayName = displayNames[func] || func;
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    const range = sel.getRangeAt(0);

    if (!range.collapsed) {
      const selected = range.extractContents();
      const span = document.createElement('span');
      span.appendChild(selected);

      const funcNode = document.createTextNode(displayName + "(");
      const closingNode = document.createTextNode(")");
      const frag = document.createDocumentFragment();
      frag.appendChild(funcNode);
      frag.appendChild(span);
      frag.appendChild(closingNode);

      range.insertNode(frag);

      let lastNode = span.lastChild || span;
      placeCaretAtEnd(lastNode);
    } else {
      const funcNode = document.createTextNode(displayName + "(");
      const closingNode = document.createTextNode(")");
      range.insertNode(funcNode);

      range.setStartAfter(funcNode);
      sel.removeAllRanges();
      sel.addRange(range);

      range.insertNode(closingNode);
      range.setStartBefore(closingNode);
      range.collapse(true);
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    }
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function insertPower() {
    // If we're starting a new operation after a result, use the result as the base
    if (isResult) {
      const resultText = display.innerText;
      display.innerHTML = '';
      expression.innerHTML = '';
      const powerExpr = createPowerExpr(resultText);
      display.appendChild(powerExpr);
      const expNode = powerExpr.querySelector('.exp');
      placeCaretAtBeginning(expNode);
      isResult = false;
      lastOperator = null;
      // Set AC mode since we're inside a function
      isACMode = true;
      updateACBackspaceButton();
      return;
    }

    // *** FIX STARTS HERE ***
    // Check if the entire display contains a single, simple number
    const plainText = getPlainExpression(display).trim();
    if (/^[\d.]+$/.test(plainText) && !isNaN(parseFloat(plainText))) {
      // If so, use the entire number as the base.
      display.innerHTML = ''; // Clear the current display
      const powerExpr = createPowerExpr(plainText);
      display.appendChild(powerExpr);
      
      // Move the cursor into the new exponent box
      const expNode = powerExpr.querySelector('.exp');
      placeCaretAtBeginning(expNode);
      
      // Set AC mode as we are now inside a function
      isACMode = true;
      updateACBackspaceButton();
      return; // Exit after handling this primary case
    }
    // *** FIX ENDS HERE ***
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    // If there's a selection, use it as the base
    if (!range.collapsed) {
      const selectedText = range.toString();
      // Create a power expression structure
      const powerExpr = createPowerExpr(selectedText);
      range.deleteContents();
      range.insertNode(powerExpr);
      // Move cursor to the exponent
      const expNode = powerExpr.querySelector('.exp');
      placeCaretAtBeginning(expNode);
    } else {
      // No selection: check if cursor is inside a number
      let node = range.startContainer;
      let offset = range.startOffset;
      
      // If the entire display is a single number, use it as the base
      if (node === display && display.childNodes.length === 1 && 
          display.childNodes[0].nodeType === Node.TEXT_NODE) {
        const number = display.childNodes[0].textContent;
        display.innerHTML = '';
        const powerExpr = createPowerExpr(number);
        display.appendChild(powerExpr);
        const expNode = powerExpr.querySelector('.exp');
        placeCaretAtBeginning(expNode);
      } else if (node.nodeType !== Node.TEXT_NODE) {
        // If not in a text node, insert a power expression with empty base and exponent
        const powerExpr = createPowerExpr('');
        range.insertNode(powerExpr);
        // Move cursor to the base
        const baseNode = powerExpr.querySelector('.base');
        placeCaretAtBeginning(baseNode);
      } else {
        const text = node.textContent;
        
        // Find the start and end of the current number at the cursor
        let start = offset;
        let end = offset;
        
        // Move start backwards until we hit a non-digit, non-dot, or the beginning
        while (start > 0 && /[\d.]/.test(text.charAt(start - 1))) {
          start--;
        }
        
        // Move end forwards until we hit a non-digit, non-dot, or the end
        while (end < text.length && /[\d.]/.test(text.charAt(end))) {
          end++;
        }
        
        // If we found a number (at least one digit)
        if (start < end && /\d/.test(text.substring(start, end))) {
          // Extract the number
          const number = text.substring(start, end);
          
          // Replace the number with a power expression
          const before = text.substring(0, start);
          const after = text.substring(end);
          
          // Create the power expression
          const powerExpr = createPowerExpr(number);
          
          // Create a new text node for the parts before and after
          const beforeNode = document.createTextNode(before);
          const afterNode = document.createTextNode(after);
          
          // Replace the current node with the new structure
          const parent = node.parentNode;
          parent.insertBefore(beforeNode, node);
          parent.insertBefore(powerExpr, node);
          parent.insertBefore(afterNode, node);
          parent.removeChild(node);
          
          // Move cursor to the exponent
          const expNode = powerExpr.querySelector('.exp');
          placeCaretAtBeginning(expNode);
        } else {
          // No number found, insert a power expression with empty base and exponent
          const powerExpr = createPowerExpr('');
          const before = text.substring(0, offset);
          const after = text.substring(offset);
          
          node.textContent = before;
          const parent = node.parentNode;
          parent.insertBefore(powerExpr, node.nextSibling);
          const afterNode = document.createTextNode(after);
          parent.insertBefore(afterNode, powerExpr.nextSibling);
          
          // Move cursor to the base
          const baseNode = powerExpr.querySelector('.base');
          placeCaretAtBeginning(baseNode);
        }
      }
    }
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function createPowerExpr(baseText) {
    const powerExpr = document.createElement('span');
    powerExpr.className = 'power-expr';
    
    const baseSpan = document.createElement('span');
    baseSpan.className = 'base';
    baseSpan.contentEditable = true;
    baseSpan.textContent = baseText || '';
    
    // Create exponent box without dots
    const expSup = document.createElement('sup');
    expSup.className = 'exp';
    expSup.contentEditable = true;
    expSup.textContent = '';
    
    powerExpr.appendChild(baseSpan);
    powerExpr.appendChild(expSup);
    
    return powerExpr;
  }

  function insertEXPX() {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    // Create e^x expression structure
    const expXExpr = createEXPXExpr();
    
    // Insert the structure
    range.insertNode(expXExpr);
    
    // Move cursor to the exponent
    const expNode = expXExpr.querySelector('.exp');
    placeCaretAtBeginning(expNode);
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function createEXPXExpr() {
    const expXExpr = document.createElement('span');
    expXExpr.className = 'exp-x-expr';
    
    const baseSpan = document.createElement('span');
    baseSpan.className = 'base';
    baseSpan.contentEditable = false; // Base is fixed as 'e'
    baseSpan.textContent = 'e';
    baseSpan.style.fontStyle = 'italic'; // Italicize the 'e'
    
    // Create exponent box
    const expSup = document.createElement('sup');
    expSup.className = 'exp';
    expSup.contentEditable = true;
    expSup.textContent = ''; // Empty box instead of 'x'
    
    expXExpr.appendChild(baseSpan);
    expXExpr.appendChild(expSup);
    
    return expXExpr;
  }

  function insertSquare() {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    // Check if the entire display is a number (only digits and decimal point)
    const plainText = getPlainExpression(display);
    if (/^[\d.]+$/.test(plainText)) {
      // Replace the entire display with the number followed by ¬≤ (without parentheses)
      display.innerHTML = plainText + "¬≤";
      placeCaretAtEnd(display);
      
      // Set AC mode since we're inside a function
      isACMode = true;
      updateACBackspaceButton();
      return;
    }
    
    // If there's a selection, wrap it in parentheses with superscript 2
    if (!range.collapsed) {
      const selectedText = range.toString();
      const openingParen = document.createTextNode("(");
      const closingParen = document.createTextNode(")¬≤");
      
      // Extract the selected content
      const selectedContent = range.extractContents();
      
      // Create a document fragment to hold the parentheses and selected content
      const frag = document.createDocumentFragment();
      frag.appendChild(openingParen);
      frag.appendChild(selectedContent);
      frag.appendChild(closingParen);
      
      // Insert the fragment
      range.insertNode(frag);
      
      // Move the cursor after the superscript 2
      range.setStartAfter(closingParen);
      range.collapse(true);
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    } else {
      // No selection: check if cursor is inside a number
      let node = range.startContainer;
      let offset = range.startOffset;
      
      if (node.nodeType !== Node.TEXT_NODE) {
        // If not in a text node, just insert "()¬≤" with cursor inside
        insertTextAtCursor("()¬≤");
        // Move cursor inside the parentheses
        const sel = window.getSelection();
        if (sel.rangeCount) {
          const range = sel.getRangeAt(0);
          // We need to move cursor back by 2 positions (to skip the closing parenthesis and superscript)
          if (range.startContainer.nodeType === Node.TEXT_NODE) {
            const textNode = range.startContainer;
            const currentOffset = range.startOffset;
            // Move cursor to position after opening parenthesis
            range.setStart(textNode, currentOffset - 2);
            range.collapse(true);
            sel.removeAllRanges();
            sel.addRange(range);
            // Save this position
            savedSelection = range;
          }
        }
      } else {
        const text = node.textContent;
        
        // Find the start and end of the current number at the cursor
        let start = offset;
        let end = offset;
        
        // Move start backwards until we hit a non-digit, non-dot, or the beginning
        while (start > 0 && /[\d.]/.test(text.charAt(start - 1))) {
          start--;
        }
        
        // Move end forwards until we hit a non-digit, non-dot, or the end
        while (end < text.length && /[\d.]/.test(text.charAt(end))) {
          end++;
        }
        
        // If we found a number (at least one digit)
        if (start < end && /\d/.test(text.substring(start, end))) {
          // Extract the number
          const number = text.substring(start, end);
          
          // Replace the number with number¬≤ (without parentheses)
          const before = text.substring(0, start);
          const after = text.substring(end);
          
          // Create a new text node for the squared number
          const newNode = document.createTextNode(before + number + "¬≤" + after);
          node.parentNode.replaceChild(newNode, node);
          
          // Move the cursor after the superscript 2
          const newOffset = before.length + number.length + 1; // +1 for '¬≤'
          setCaretPosition(newNode, newOffset);
        } else {
          // No number found, insert "()¬≤" with cursor inside
          insertTextAtCursor("()¬≤");
          // Move cursor inside the parentheses
          const sel = window.getSelection();
          if (sel.rangeCount) {
            const range = sel.getRangeAt(0);
            // We need to move cursor back by 2 positions (to skip the closing parenthesis and superscript)
            if (range.startContainer.nodeType === Node.TEXT_NODE) {
              const textNode = range.startContainer;
              const currentOffset = range.startOffset;
              // Move cursor to position after opening parenthesis
              range.setStart(textNode, currentOffset - 2);
              range.collapse(true);
              sel.removeAllRanges();
              sel.addRange(range);
              // Save this position
              savedSelection = range;
            }
          }
        }
      }
    }
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function insertCube() {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    // Check if the entire display is a number (only digits and decimal point)
    const plainText = getPlainExpression(display);
    if (/^[\d.]+$/.test(plainText)) {
      // Replace the entire display with the number followed by ¬≥ (without parentheses)
      display.innerHTML = plainText + "¬≥";
      placeCaretAtEnd(display);
      
      // Set AC mode since we're inside a function
      isACMode = true;
      updateACBackspaceButton();
      return;
    }
    
    // If there's a selection, wrap it in parentheses with superscript 3
    if (!range.collapsed) {
      const selectedText = range.toString();
      const openingParen = document.createTextNode("(");
      const closingParen = document.createTextNode(")¬≥");
      
      // Extract the selected content
      const selectedContent = range.extractContents();
      
      // Create a document fragment to hold the parentheses and selected content
      const frag = document.createDocumentFragment();
      frag.appendChild(openingParen);
      frag.appendChild(selectedContent);
      frag.appendChild(closingParen);
      
      // Insert the fragment
      range.insertNode(frag);
      
      // Move the cursor after the superscript 3
      range.setStartAfter(closingParen);
      range.collapse(true);
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    } else {
      // No selection: check if cursor is inside a number
      let node = range.startContainer;
      let offset = range.startOffset;
      
      if (node.nodeType !== Node.TEXT_NODE) {
        // If not in a text node, just insert "()¬≥" with cursor inside
        insertTextAtCursor("()¬≥");
        // Move cursor inside the parentheses
        const sel = window.getSelection();
        if (sel.rangeCount) {
          const range = sel.getRangeAt(0);
          // We need to move cursor back by 2 positions (to skip the closing parenthesis and superscript)
          if (range.startContainer.nodeType === Node.TEXT_NODE) {
            const textNode = range.startContainer;
            const currentOffset = range.startOffset;
            // Move cursor to position after opening parenthesis
            range.setStart(textNode, currentOffset - 2);
            range.collapse(true);
            sel.removeAllRanges();
            sel.addRange(range);
            // Save this position
            savedSelection = range;
          }
        }
      } else {
        const text = node.textContent;
        
        // Find the start and end of the current number at the cursor
        let start = offset;
        let end = offset;
        
        // Move start backwards until we hit a non-digit, non-dot, or the beginning
        while (start > 0 && /[\d.]/.test(text.charAt(start - 1))) {
          start--;
        }
        
        // Move end forwards until we hit a non-digit, non-dot, or the end
        while (end < text.length && /[\d.]/.test(text.charAt(end))) {
          end++;
        }
        
        // If we found a number (at least one digit)
        if (start < end && /\d/.test(text.substring(start, end))) {
          // Extract the number
          const number = text.substring(start, end);
          
          // Replace the number with number¬≥ (without parentheses)
          const before = text.substring(0, start);
          const after = text.substring(end);
          
          // Create a new text node for the cubed number
          const newNode = document.createTextNode(before + number + "¬≥" + after);
          node.parentNode.replaceChild(newNode, node);
          
          // Move the cursor after the superscript 3
          const newOffset = before.length + number.length + 1; // +1 for '¬≥'
          setCaretPosition(newNode, newOffset);
        } else {
          // No number found, insert "()¬≥" with cursor inside
          insertTextAtCursor("()¬≥");
          // Move cursor inside the parentheses
          const sel = window.getSelection();
          if (sel.rangeCount) {
            const range = sel.getRangeAt(0);
            // We need to move cursor back by 2 positions (to skip the closing parenthesis and superscript)
            if (range.startContainer.nodeType === Node.TEXT_NODE) {
              const textNode = range.startContainer;
              const currentOffset = range.startOffset;
              // Move cursor to position after opening parenthesis
              range.setStart(textNode, currentOffset - 2);
              range.collapse(true);
              sel.removeAllRanges();
              sel.addRange(range);
              // Save this position
              savedSelection = range;
            }
          }
        }
      }
    }
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function insertRoot() {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    // If there's a selection, wrap it with ‚àö()
    if (!range.collapsed) {
      const selectedContent = range.extractContents();
      const openingText = document.createTextNode("‚àö(");
      const closingText = document.createTextNode(")");
      
      const frag = document.createDocumentFragment();
      frag.appendChild(openingText);
      frag.appendChild(selectedContent);
      frag.appendChild(closingText);
      
      range.insertNode(frag);
      
      // Move cursor inside the parentheses
      range.setStartAfter(openingText);
      range.collapse(true);
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    } else {
      // Check if cursor is inside existing parentheses
      let node = range.startContainer;
      let offset = range.startOffset;
      let text = '';
      
      if (node.nodeType === Node.TEXT_NODE) {
        text = node.textContent;
        
        // Check if cursor is right after "‚àö("
        if (offset >= 2 && text.substring(offset - 2, offset) === "‚àö(") {
          // We're inside an existing ‚àö(), insert nested ‚àö()
          const before = text.substring(0, offset);
          const after = text.substring(offset);
          
          const newNode = document.createTextNode(before + "‚àö()" + after);
          node.parentNode.replaceChild(newNode, node);
          
          // Move cursor inside the nested parentheses
          setCaretPosition(newNode, offset + 2);
        } else {
          // Insert new ‚àö()
          const before = text.substring(0, offset);
          const after = text.substring(offset);
          
          const newNode = document.createTextNode(before + "‚àö()" + after);
          node.parentNode.replaceChild(newNode, node);
          
          // Move cursor inside the parentheses
          setCaretPosition(newNode, offset + 2);
        }
      } else {
        // Not in a text node, just insert ‚àö()
        insertTextAtCursor("‚àö()");
        
        // Move cursor inside the parentheses
        if (node.childNodes.length > 0) {
          const lastChild = node.childNodes[node.childNodes.length - 1];
          if (lastChild.nodeType === Node.TEXT_NODE) {
            setCaretPosition(lastChild, lastChild.length - 1);
          }
        }
      }
    }
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function insertCubeRoot() {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    // If there's a selection, wrap it with ¬≥‚àö()
    if (!range.collapsed) {
      const selectedContent = range.extractContents();
      const openingText = document.createTextNode("¬≥‚àö(");
      const closingText = document.createTextNode(")");
      
      const frag = document.createDocumentFragment();
      frag.appendChild(openingText);
      frag.appendChild(selectedContent);
      frag.appendChild(closingText);
      
      range.insertNode(frag);
      
      // Move cursor inside the parentheses
      range.setStartAfter(openingText);
      range.collapse(true);
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
    } else {
      // Check if cursor is inside existing parentheses
      let node = range.startContainer;
      let offset = range.startOffset;
      let text = '';
      
      if (node.nodeType === Node.TEXT_NODE) {
        text = node.textContent;
        
        // Check if cursor is right after "¬≥‚àö("
        if (offset >= 3 && text.substring(offset - 3, offset) === "¬≥‚àö(") {
          // We're inside an existing ¬≥‚àö(), insert nested ¬≥‚àö()
          const before = text.substring(0, offset);
          const after = text.substring(offset);
          
          const newNode = document.createTextNode(before + "¬≥‚àö()" + after);
          node.parentNode.replaceChild(newNode, node);
          
          // Move cursor inside the nested parentheses
          setCaretPosition(newNode, offset + 3);
        } else {
          // Insert new ¬≥‚àö()
          const before = text.substring(0, offset);
          const after = text.substring(offset);
          
          const newNode = document.createTextNode(before + "¬≥‚àö()" + after);
          node.parentNode.replaceChild(newNode, node);
          
          // Move cursor inside the parentheses
          setCaretPosition(newNode, offset + 3);
        }
      } else {
        // Not in a text node, just insert ¬≥‚àö()
        insertTextAtCursor("¬≥‚àö()");
        
        // Move cursor inside the parentheses
        if (node.childNodes.length > 0) {
          const lastChild = node.childNodes[node.childNodes.length - 1];
          if (lastChild.nodeType === Node.TEXT_NODE) {
            setCaretPosition(lastChild, lastChild.length - 1);
          }
        }
      }
    }
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function insertScientificNotation() {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    // Change AC to Backspace when user starts typing
    if (isACMode) {
      isACMode = false;
      updateACBackspaceButton();
    }
    
    insertTextAtCursor('E');
    focusDisplay();
  }

  function applySciFunc(func) {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Clear display if it's just "0"
    if (display.innerText.trim() === '0') {
      display.innerHTML = '';
    }
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    if (func === 'inverse') {
      // Handle 1/x function
      if (!range.collapsed) {
        // If there's a selection, wrap it with 1/()
        const selectedContent = range.extractContents();
        const openingText = document.createTextNode("1/(");
        const closingText = document.createTextNode(")");
        
        const frag = document.createDocumentFragment();
        frag.appendChild(openingText);
        frag.appendChild(selectedContent);
        frag.appendChild(closingText);
        
        range.insertNode(frag);
        
        // Move cursor inside the parentheses
        range.setStartAfter(openingText);
        range.collapse(true);
        sel.removeAllRanges();
        sel.addRange(range);
        // Save this position
        savedSelection = range;
      } else {
        // Check if cursor is inside existing parentheses
        let node = range.startContainer;
        let offset = range.startOffset;
        let text = '';
        
        if (node.nodeType === Node.TEXT_NODE) {
          text = node.textContent;
          
          // Check if cursor is right after "1/("
          if (offset >= 3 && text.substring(offset - 3, offset) === "1/(") {
            // We're inside an existing 1/(), insert nested 1/()
            const before = text.substring(0, offset);
            const after = text.substring(offset);
            
            const newNode = document.createTextNode(before + "1/()" + after);
            node.parentNode.replaceChild(newNode, node);
            
            // Move cursor inside the nested parentheses
            setCaretPosition(newNode, offset + 3);
          } else {
            // Insert new 1/()
            const before = text.substring(0, offset);
            const after = text.substring(offset);
            
            const newNode = document.createTextNode(before + "1/()" + after);
            node.parentNode.replaceChild(newNode, node);
            
            // Move cursor inside the parentheses
            setCaretPosition(newNode, offset + 3);
          }
        } else {
          // Not in a text node, just insert 1/()
          insertTextAtCursor("1/()");
          
          // Move cursor inside the parentheses
          if (node.childNodes.length > 0) {
            const lastChild = node.childNodes[node.childNodes.length - 1];
            if (lastChild.nodeType === Node.TEXT_NODE) {
              setCaretPosition(lastChild, lastChild.length - 1);
            }
          }
        }
      }
    } else if (func === 'abs') {
      // Handle abs function
      if (!range.collapsed) {
        // If there's a selection, wrap it with abs()
        const selectedContent = range.extractContents();
        const openingText = document.createTextNode("abs(");
        const closingText = document.createTextNode(")");
        
        const frag = document.createDocumentFragment();
        frag.appendChild(openingText);
        frag.appendChild(selectedContent);
        frag.appendChild(closingText);
        
        range.insertNode(frag);
        
        // Move cursor inside the parentheses
        range.setStartAfter(openingText);
        range.collapse(true);
        sel.removeAllRanges();
        sel.addRange(range);
        // Save this position
        savedSelection = range;
      } else {
        // Check if cursor is inside existing parentheses
        let node = range.startContainer;
        let offset = range.startOffset;
        let text = '';
        
        if (node.nodeType === Node.TEXT_NODE) {
          text = node.textContent;
          
          // Check if cursor is right after "abs("
          if (offset >= 4 && text.substring(offset - 4, offset) === "abs(") {
            // We're inside an existing abs(), insert nested abs()
            const before = text.substring(0, offset);
            const after = text.substring(offset);
            
            const newNode = document.createTextNode(before + "abs()" + after);
            node.parentNode.replaceChild(newNode, node);
            
            // Move cursor inside the nested parentheses
            setCaretPosition(newNode, offset + 4);
          } else {
            // Insert new abs()
            const before = text.substring(0, offset);
            const after = text.substring(offset);
            
            const newNode = document.createTextNode(before + "abs()" + after);
            node.parentNode.replaceChild(newNode, node);
            
            // Move cursor inside the parentheses
            setCaretPosition(newNode, offset + 4);
          }
        } else {
          // Not in a text node, just insert abs()
          insertTextAtCursor("abs()");
          
          // Move cursor inside the parentheses
          if (node.childNodes.length > 0) {
            const lastChild = node.childNodes[node.childNodes.length - 1];
            if (lastChild.nodeType === Node.TEXT_NODE) {
              setCaretPosition(lastChild, lastChild.length - 1);
            }
          }
        }
      }
    }
    
    // Set AC mode since we're inside a function
    isACMode = true;
    updateACBackspaceButton();
  }

  function insertFactorial() {
    // If we're starting a new operation after a result, clear the display
    if (isResult) {
      display.innerHTML = '';
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
    }
    
    // Change AC to Backspace when user starts typing
    if (isACMode) {
      isACMode = false;
      updateACBackspaceButton();
    }
    
    focusDisplay();
    const sel = window.getSelection();
    if (!sel.rangeCount) return;
    let range = sel.getRangeAt(0);
    
    // If there's a selection, add factorial after the selection
    if (!range.collapsed) {
      const selectedText = range.toString();
      const factorialNode = document.createTextNode("!");
      
      // Extract the selected content
      const selectedContent = range.extractContents();
      
      // Create a document fragment to hold the selected content and factorial
      const frag = document.createDocumentFragment();
      frag.appendChild(selectedContent);
      frag.appendChild(factorialNode);
      
      // Insert the fragment
      range.insertNode(frag);
      
      // Move the cursor after the factorial
      range.setStartAfter(factorialNode);
      range.collapse(true);
      sel.removeAllRanges();
      sel.addRange(range);
      // Save this position
      savedSelection = range;
      return;
    }
    
    // No selection: check if cursor is inside a number
    let node = range.startContainer;
    let offset = range.startOffset;
    
    if (node.nodeType !== Node.TEXT_NODE) {
      // If not in a text node, just insert "!"
      insertTextAtCursor("!");
      return;
    }
    
    const text = node.textContent;
    
    // Find the start and end of the current number at the cursor
    let start = offset;
    let end = offset;
    
    // Move start backwards until we hit a non-digit, non-dot, or the beginning
    while (start > 0 && /[\d.]/.test(text.charAt(start - 1))) {
      start--;
    }
    
    // Move end forwards until we hit a non-digit, non-dot, or the end
    while (end < text.length && /[\d.]/.test(text.charAt(end))) {
      end++;
    }
    
    // If we found a number (at least one digit)
    if (start < end && /\d/.test(text.substring(start, end))) {
      // Extract the number
      const number = text.substring(start, end);
      
      // Replace the number with number!
      const before = text.substring(0, start);
      const after = text.substring(end);
      
      // Create a new text node for the factorial number
      const newNode = document.createTextNode(before + number + "!" + after);
      node.parentNode.replaceChild(newNode, node);
      
      // Move the cursor after the factorial
      const newOffset = before.length + number.length + 1; // +1 for '!'
      setCaretPosition(newNode, newOffset);
    } else {
      // No number found, just insert "!"
      insertTextAtCursor("!");
    }
  }

  function isParenthesesBalanced(expr) {
    let stack = [];
    for (let char of expr) {
      if (char === '(') stack.push(char);
      else if (char === ')') {
        if (!stack.length) return false;
        stack.pop();
      }
    }
    return stack.length === 0;
  }

  function autoCloseParentheses(expr) {
    let stack = [];
    let result = '';
    
    for (let char of expr) {
      if (char === '(') {
        stack.push(result.length);
        result += char;
      } else if (char === ')') {
        if (stack.length > 0) {
          stack.pop();
          result += char;
        } else {
          // Extra closing parenthesis, ignore it
        }
      } else {
        result += char;
      }
    }
    
    // Add missing closing parentheses
    while (stack.length > 0) {
      result += ')';
      stack.pop();
    }
    
    return result;
  }

  function convertPowerExpressions(expr) {
    // Process the expression from right to left to handle nested expressions correctly
    let result = '';
    let i = expr.length - 1;
    
    while (i >= 0) {
      if (i >= 1 && (expr.substr(i-1, 2) === ')¬≤' || expr.substr(i-1, 2) === ')¬≥')) {
        // Found a power expression, find the matching opening parenthesis
        let power = expr[i] === '¬≤' ? '2' : '3';
        let depth = 0;
        let j = i - 2; // Start before the )¬≤ or )¬≥
        
        // Find the matching opening parenthesis
        while (j >= 0) {
          if (expr[j] === ')') depth++;
          else if (expr[j] === '(') {
            if (depth === 0) break;
            depth--;
          }
          j--;
        }
        
        if (j >= 0) {
          // Found matching opening parenthesis
          let content = expr.substring(j+1, i-1);
          // Recursively process the content to handle nested power expressions
          content = convertPowerExpressions(content);
          result = `pow(${content},${power})` + result;
          i = j - 1; // Skip the opening parenthesis
        } else {
          // No matching opening parenthesis, just append the characters
          result = expr[i] + result;
          i--;
        }
      } else {
        result = expr[i] + result;
        i--;
      }
    }
    
    return result;
  }

  function calculate() {
    try {
      // Get the expression by traversing the DOM to properly handle all structures
      let expr = convertDisplayToMathExpression();
      if (!expr) return;
      
      // Save the original expression exactly as displayed
      const originalExpression = display.innerHTML;
      
      expr = autoCloseParentheses(expr);
      if (!isParenthesesBalanced(expr)) {
        display.innerHTML = 'L·ªói: D·∫•u ngo·∫∑c kh√¥ng kh·ªõp';
        expression.innerHTML = '';
        focusDisplay();
        placeCaretAtEnd(display);
        return;
      }
      
      // Replace ln with log (natural logarithm)
      expr = expr.replace(/ln\s*\(/g, 'log(');
      
      expr = expr
        .replace(/œÄ/g, 'pi')
        .replace(/e/g, 'e')
        .replace(/¬≥‚àö/g, 'cbrt')   // First replace cube root
        .replace(/‚àö/g, 'sqrt')    // Then replace square root
        .replace(/√ó/g, '*')
        .replace(/√∑/g, '/');
      
      // Handle the (number)¬≤ and (number)¬≥ formats with nested parentheses
      expr = convertPowerExpressions(expr);
      
      // Handle direct superscripts like 555¬≤
      expr = expr.replace(/(\d+(\.\d+)?)¬≤/g, 'pow($1,2)');
      expr = expr.replace(/(\d+(\.\d+)?)¬≥/g, 'pow($1,3)');
      
      // Handle factorial without parentheses
      expr = expr.replace(/(\d+)!/g, 'factorial($1)');
      // Handle factorial with parentheses
      expr = expr.replace(/\(([^)]+)\)!/g, 'factorial($1)');
      // Fixed log replacement to handle nested functions
      expr = expr.replace(/log\s*\(/g, 'log10(');
      expr = expr.replace(/abs\(/g, 'abs(');
      expr = expr.replace(/(\d+)E(\d+)/g, '$1e$2');
      expr = expr.replace(/(\d+(\.\d+)?)%/g, '($1/100)');

      expr = replaceTrigFunctions(expr);
      expr = expr.replace(/\b(sin|cos|tan|asin|acos|atan|sqrt|log|ln|abs|fact)\(\s*\)/g, '0');

      const result = math.evaluate(expr);
      if (typeof result === 'number' && !isNaN(result)) {
        // Display the expression above the result
        expression.innerHTML = originalExpression;
        display.innerHTML = result;
        // Save the original expression (as HTML) and the result
        history.push({ expression: originalExpression, result: result });
        isResult = true;
        lastOperator = null;
        // Switch back to AC mode after calculation
        isACMode = true;
        updateACBackspaceButton();
      } else {
        if (result && (result.re !== undefined || result.im !== undefined)) {
          expression.innerHTML = originalExpression;
          display.innerHTML = result.toString();
          history.push({ expression: originalExpression, result: result.toString() });
          isResult = true;
          lastOperator = null;
          // Switch back to AC mode after calculation
          isACMode = true;
          updateACBackspaceButton();
        } else {
          display.innerHTML = 'L·ªói: K·∫øt qu·∫£ kh√¥ng h·ª£p l·ªá';
          expression.innerHTML = '';
          isResult = false;
          lastOperator = null;
          // Switch back to AC mode after error
          isACMode = true;
          updateACBackspaceButton();
        }
      }
    } catch (e) {
      display.innerHTML = 'L·ªói: ' + e.message;
      expression.innerHTML = '';
      isResult = false;
      lastOperator = null;
      // Switch back to AC mode after error
      isACMode = true;
      updateACBackspaceButton();
    }
    focusDisplay();
    placeCaretAtEnd(display);
  }

  // New function to convert display to math expression by traversing DOM
  function convertDisplayToMathExpression() {
    let result = '';
    
    function processNode(node) {
      if (node.nodeType === Node.TEXT_NODE) {
        let text = node.textContent;
        // Handle inverse trig functions by replacing special characters
        text = text.replace(/sin‚Åª¬π/g, 'asin')
                  .replace(/cos‚Åª¬π/g, 'acos')
                  .replace(/tan‚Åª¬π/g, 'atan');
        result += text;
      } else if (node.classList && node.classList.contains('power-expr')) {
        const baseNode = node.querySelector('.base');
        const expNode = node.querySelector('.exp');
        
        if (baseNode && expNode) {
          // Get the text content directly
          const base = baseNode.textContent || '0';
          const exp = expNode.textContent || '0';
          
          // Validate that both base and exponent are not empty
          if (base.trim() === '' || exp.trim() === '') {
            // If either is empty, use default values
            result += `pow(${base || '0'},${exp || '0'})`;
          } else {
            // Check if they are valid numbers
            const baseNum = parseFloat(base);
            const expNum = parseFloat(exp);
            
            if (isNaN(baseNum) || isNaN(expNum)) {
              // If they are not valid numbers, treat them as variables
              result += `pow(${base},${exp})`;
            } else {
              // If they are valid numbers, use them directly
              result += `pow(${baseNum},${expNum})`;
            }
          }
        }
        return; // Skip processing children of power-expr
      } else if (node.classList && node.classList.contains('exp-x-expr')) {
        const expNode = node.querySelector('.exp');
        
        if (expNode) {
          // Get the exponent content
          const exponent = expNode.textContent || '0';
          
          // Convert to exp(exponent) format
          result += `exp(${exponent})`;
        }
        return; // Skip processing children of exp-x-expr
      } else {
        // Process child nodes
        for (let i = 0; i < node.childNodes.length; i++) {
          processNode(node.childNodes[i]);
        }
      }
    }
    
    processNode(display);
    return result;
  }

  function convertPowerBlocks(expr) {
    // This function is now replaced by convertDisplayToMathExpression
    return expr;
  }

  // Optimized parser for trig functions
  function replaceTrigFunctions(expr) {
    const funcs = {
      sin: { deg: v => `sin((${v}) * pi / 180)`, rad: v => `sin(${v})` },
      cos: { deg: v => `cos((${v}) * pi / 180)`, rad: v => `cos(${v})` },
      tan: { deg: v => `tan((${v}) * pi / 180)`, rad: v => `tan(${v})` },
      asin: { deg: v => `(asin(${v}) * 180 / pi)`, rad: v => `asin(${v})` },
      acos: { deg: v => `(acos(${v}) * 180 / pi)`, rad: v => `acos(${v})` },
      atan: { deg: v => `(atan(${v}) * 180 / pi)`, rad: v => `atan(${v})` }
    };

    // Use a more efficient approach with regex replacements
    const funcPattern = /(?:sin|cos|tan|asin|acos|atan)\s*\([^)]*\)/g;
    let result = '';
    let lastIndex = 0;
    let match;
    
    while ((match = funcPattern.exec(expr)) !== null) {
      // Add the part before the match
      result += expr.substring(lastIndex, match.index);
      
      // Process the matched function
      const funcMatch = match[0];
      const funcName = funcMatch.match(/^(sin|cos|tan|asin|acos|atan)/)[1];
      const innerExpr = funcMatch.substring(funcName.length + 1, funcMatch.length - 1);
      
      // Apply the appropriate conversion
      const conversion = funcs[funcName][angleMode];
      result += conversion(innerExpr);
      
      lastIndex = funcPattern.lastIndex;
    }
    
    // Add the remaining part of the expression
    result += expr.substring(lastIndex);
    
    return result;
  }

  function getPlainExpression(el) {
    let text = el.innerText || el.textContent;
    if (!text) return null;
    return text;
  }

  function openHistory() {
    if (history.length === 0) {
      // Enhanced message for empty history
      historyContent.innerHTML = `
        <div style="text-align: center; padding: 20px; color: #666;">
          <i class="fas fa-history" style="font-size: 24px; margin-bottom: 10px; display: block;"></i>
          <p>Ch∆∞a c√≥ l·ªãch s·ª≠ t√≠nh to√°n n√†o.</p>
          <p style="font-size: 14px; margin-top: 5px;">H√£y th·ª±c hi·ªán m·ªôt ph√©p t√≠nh ƒë·ªÉ xem l·ªãch s·ª≠ t·∫°i ƒë√¢y.</p>
        </div>
      `;
    } else {
      // Enhanced history display with heading
      historyContent.innerHTML = `
        <div style="margin-bottom: 15px; font-weight: 500; color: #333;">
          <i class="fas fa-history" style="margin-right: 8px;"></i>
          L·ªãch s·ª≠ t√≠nh to√°n g·∫ßn ƒë√¢y
        </div>
      `;
      
      history.forEach((item, index) => {
        const historyItem = document.createElement('div');
        historyItem.className = 'history-item';
        historyItem.tabIndex = 0;
        historyItem.onclick = () => loadFromHistory(index);
        
        // Create a container for the expression
        const exprContainer = document.createElement('span');
        
        // Parse the expression HTML and convert power expressions to a readable format
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = item.expression;
        
        function processNode(node) {
          if (node.nodeType === Node.TEXT_NODE) {
            return document.createTextNode(node.textContent);
          }
          
          if (node.classList && node.classList.contains('power-expr')) {
            const powerElement = document.createElement('span');
            powerElement.className = 'history-power';
            
            const baseElement = document.createElement('span');
            baseElement.className = 'base';
            baseElement.textContent = node.querySelector('.base')?.textContent || '0';
            
            const expElement = document.createElement('span');
            expElement.className = 'exp';
            expElement.textContent = node.querySelector('.exp')?.textContent || '0';
            
            powerElement.appendChild(baseElement);
            powerElement.appendChild(expElement);
            
            return powerElement;
          } else if (node.classList && node.classList.contains('exp-x-expr')) {
            // Handle e^x expressions in history
            const expXElement = document.createElement('span');
            expXElement.className = 'history-power';
            
            const baseElement = document.createElement('span');
            baseElement.className = 'base';
            baseElement.textContent = 'e';
            baseElement.style.fontStyle = 'italic';
            
            const expElement = document.createElement('span');
            expElement.className = 'exp';
            expElement.textContent = node.querySelector('.exp')?.textContent || 'x';
            
            expXElement.appendChild(baseElement);
            expXElement.appendChild(expElement);
            
            return expXElement;
          }
          
          // Clone other nodes
          const clone = node.cloneNode(false);
          
          // Process children
          Array.from(node.childNodes).forEach(child => {
            clone.appendChild(processNode(child));
          });
          
          return clone;
        }
        
        // Process all nodes in the expression
        Array.from(tempDiv.childNodes).forEach(child => {
          exprContainer.appendChild(processNode(child));
        });
        
        // Create the equals sign and result
        const equalsText = document.createTextNode(' = ');
        const resultText = document.createTextNode(item.result);
        
        historyItem.appendChild(exprContainer);
        historyItem.appendChild(equalsText);
        historyItem.appendChild(resultText);
        
        historyContent.appendChild(historyItem);
      });
    }
    
    // Show modal with a slight delay for better rendering
    setTimeout(() => {
      historyModal.classList.add('active');
      // Focus on modal content after a delay
      setTimeout(() => {
        historyContent.focus();
      }, 100);
    }, 10);
  }

  function closeHistory() {
    historyModal.classList.remove('active');
    restoreCursorPosition();
  }

  function loadFromHistory(index) {
    const item = history[index];
    display.innerHTML = item.expression;
    expression.innerHTML = '';
    isResult = false;
    lastOperator = null;
    // Switch to backspace mode when loading from history
    isACMode = false;
    updateACBackspaceButton();
    closeHistory();
    focusDisplay();
    placeCaretAtEnd(display);
  }

  angleRadios.forEach(radio => {
    radio.addEventListener('change', () => {
      angleMode = radio.value;
    });
  });

  document.addEventListener('keydown', function(e) {
    if (document.activeElement === display) {
      return;
    }
    if (e.key >= '0' && e.key <= '9') {
      insertChar(e.key);
      e.preventDefault();
    } else if (e.key === '.') {
      insertChar('.');
      e.preventDefault();
    } else if (e.key === '+' || e.key === '-' || e.key === '*' || e.key === '/') {
      insertChar(e.key);
      e.preventDefault();
    } else if (e.key === 'Enter' || e.key === '=') {
      calculate();
      e.preventDefault();
    } else if (e.key === 'Escape') {
      clearAll();
      e.preventDefault();
    } else if (e.key === 'Backspace') {
      backspace();
      e.preventDefault();
    } else if (e.key === '(') {
      insertChar('(');
      e.preventDefault();
    } else if (e.key === ')') {
      insertChar(')');
      e.preventDefault();
    } else if (e.key === '%') {
      insertChar('%');
      e.preventDefault();
    } else if (e.key === '!') {
      insertFactorial();
      e.preventDefault();
    }
  });

 
  // Save cursor position when display loses focus
  display.addEventListener('blur', function() {
    saveCursorPosition();
  });

  // Restore cursor position when display gets focus
  display.addEventListener('focus', function() {
    restoreCursorPosition();
  });

  // Add click event to close modal when clicking outside
  document.getElementById('historyModal').addEventListener('click', function(e) {
    if (e.target === this) {
      closeHistory();
    }
  });

  // Initialize calculator on page load
  window.addEventListener('load', function() {
    initializeCalculator();
    display.focus();
    placeCaretAtEnd(display);
  });

  function clearAll() {
    display.innerHTML = '0';
    expression.innerHTML = '';
    isResult = false;
    lastOperator = null;
    isACMode = true; // Set to AC mode
    updateACBackspaceButton(); // Update the button text
    focusDisplay();
    placeCaretAtEnd(display);
  }
    </script>
</body>
</html>
